(self["webpackJsonp"] = self["webpackJsonp"] || []).push([["mA0U"],{"MmA0U":function(_,__,__webpack_require__){__webpack_require__.n_x = __webpack_require__.n;__webpack_require__("MEEO/");self._421f134f8647887ef56e330ffb309558 = self._421f134f8647887ef56e330ffb309558 || {};(function(__c) {'use strict';var CRc=function(a){return new BRc({locale:__c.t("locale",a),keywords:__c.ya("keywords",a)})},ERc=function(a){return new DRc({id:__c.t("id",a),Ur:__c.t("shortName",a),keywords:__c.Da(CRc,"keywords",a)})},GRc=function(a){return new FRc({url:__c.t("url",a),width:__c.q("width",a),height:__c.q("height",a),quality:__c.ta("quality",a)})},IRc=function(a){return new HRc({id:__c.t("id",a),locale:__c.t("locale",a),text:__c.t("text",a),images:__c.Da(GRc,"images",a)})},JRc=function(a){return new __c.vub({Nc:__c.Da(__c.so,
"fontFamilies",a),ba:__c.u("continuation",a)})},KRc=function(a){return new __c.wub({Di:__c.Da(ERc,"fontCollections",a),ba:__c.u("continuation",a)})},LRc=function(a){return new __c.xub({Di:__c.Da(ERc,"fontCollections",a),ba:__c.u("continuation",a)})},MRc=function(a){return new __c.yub({fSa:__c.Da(IRc,"fontPills",a)})},NRc=function(a){if("*"===a.trim())return/.*/i;a=a.replace(/[.*+?^${}()|[\]\\]/g,"").trim();return new RegExp(`(^${a}|\ ${a})`,"i")},ORc=async function(a,b){let c;const d=[];do{const e=
await __c.Xya(a,new __c.Qr({ba:c,cf:!1,limit:100,nn:b.nn,projection:b.projection,Dz:b.Dz}));c=e.ba;d.push(...e.Nc)}while(null!=c);return d},PRc=async function(a){var b=a.xH.Qi;if(!b)return[];b=b.reduce((d,e)=>[...d,...e.hc],[]).map(d=>d.font&&(d.font.media?d.font.media.id:d.font.family)).filter(__c.sh);const c=b.filter(d=>!a.Iia.has(d));0<c.length&&(await a.Db.lo(new __c.Pr({mq:c,sg:a.sg,iT:!0,Ws:!0}))).Nc.forEach(d=>__c.Or(a,d));return Promise.all(b.map(d=>a.Iia.get(d)).filter(__c.sh))},QRc=function(a,
b){if("document"!==a&&("brand"===a||!b.cf||b.Mm))return 0},SRc=function(a){const b=new RRc;b.YL(a);return b.Hh},TRc=function(a,b){const c=new Set;SRc(a).forEach(d=>{const e=__c.Hi(d.text,b);try{const f=e.XS({index:0,length:d.text.pg});for(const g of f["font-family"].values())c.add(g)}finally{e.destroy()}});return c},URc=function(a,b){const c=new Set;a.elements.forEach(d=>TRc(d,b).forEach(e=>c.add(e)));return c},VRc=function(a,b){const c=new Set(2<arguments.length&&void 0!==arguments[2]?arguments[2]:
[]);a.ca.forEach(d=>URc(d,b).forEach(e=>c.add(e)));return c},WRc=function(a,b){return __c.Ur(a.images,Math.round(b||1),c=>c.quality||0)},XRc=function(a){const b=new Image;b.crossOrigin="anonymous";b.src=a;return new Promise((c,d)=>{b.onload=()=>c();b.onerror=()=>d(Error("failed to load image"))})},ZRc=function(a){const b=new J2(a.Db,a.locale),c=new K2,d=()=>b.PAa(c);return{w3b:L2.c(e=>M2.createElement(YRc,{EK:c.uub,PAa:d,onSelect:e.onSelect,f9b:c.Jcb})),sync:e=>b.sync(c,e)}},$Rc=function(a){switch(a.type){case "error":case "pending":return"";
case "font-weight":return a.parent.id;case "search":return a.text;case "font":return a.id;default:throw new __c.G(a);}},N2=function(a,b){if(null==b)return!1;a=a.props.Bu.get(b);return null==a||"loading"===a},aSc=function(a){switch(a){case "thin":return __c.F("1solpA",[]);case "extra-light":return __c.F("UO/Bxw",[]);case "light":return __c.F("jGQriQ",[]);case "normal":return __c.F("Vj/l0A",[]);case "medium":return __c.F("wBAqLw",[]);case "semi-bold":return __c.F("l7jmGw",[]);case "bold":return __c.F("zh4AKw",
[]);case "heavy":return __c.F("NHsvjg",[]);case "black":return __c.F("5uRekg",[]);case "poster":return __c.F("yyiz9A",[]);default:throw new __c.G(a);}},bSc=function(a,b){const c=a.xna;return async()=>{const d=a.zma;let e=d;for(;0<e&&a.xna===c&&"complete"!==a.R4.status;){await b(Math.max(a.RVa,Math.min(a.cBa,e)));if("erroring"===a.R4.status)break;e=d-a.R4.quantity}}},cSc=function(a,b,c,d){if(null!=b){var e;a.le.forEach(f=>{if(f.id===c||null==e&&(null==c||null==d))e=f.options.find(g=>"font"===g.type&&
__c.Ir(g)===b&&null==d||"font-weight"===g.type&&__c.Ir(g.parent)===b&&g.weight===d)});return e}},dSc=function(a,b,c){if(null!=b){var d;a.le.forEach(e=>{if(e.id===c||null==d)d=e.options.find(f=>f.key===b)});return d}},eSc=function(a,b){return(a=a.le.find(c=>0<=c.options.indexOf(b)))?a.id:void 0},fSc=function(a,b,c){let d=0;for(const e of a.le){if(e.id===c||null==c)if(a=e.options.findIndex(f=>f.key===b),0<=a)return d+a;d+=e.options.length}return-1},gSc=function(a,b){for(const c of a.le)if(a=c.options,
a.length<=b)b-=a.length;else return{option:a[b],groupId:c.id}},hSc=async function(a,b,c){b.ES.has(c.key)&&null!=c.styles&&(c=c.styles.map(d=>a.RT(b,d.ka)),await Promise.all(c))},iSc=function(a){const b=new Image;b.crossOrigin="anonymous";b.src=a;return new Promise((c,d)=>{b.onload=()=>c();b.onerror=()=>d(Error("failed to load image"))})},kSc=function(){document.body.className=jSc(document.body.className,{["FWr_Hg"]:!1})},lSc=function(a){const b=a.props,c=b.mode,d=b.wsb,e=b.ZCa,f=b.Fq,g=b.bIb;return M2.createElement(__c.LE,
{map:a.zAa,xE:!1,Bh:!0},M2.createElement("div",{className:O2("OrEcbw","compact"===b.style?"Tk7UwQ":"NLvA1w")},M2.createElement("div",{className:"_67Dw0A",onMouseDown:a.onClick,onTouchStart:a.onClick},M2.createElement(__c.zB,{value:f||"",$Ra:!0,onFocus:a.onFocus,onBlur:a.onBlur,onChange:d,wd:e,bc:a.bc,placeholder:__c.F("nKcWQg",[]),autoComplete:"off",autoCorrect:"off",autoFocus:null==g?"on-desktop":void 0,uoa:0!==c&&null!=g,ref:a.oc}))))},mSc=function(a){switch(a){case 1:return"input";case 4:return"confirm";
case 3:return"pill";case 2:return"suggest";case 5:return"clear";default:throw new __c.G(a);}},P2=function(a){a.loading=!0;a.error=void 0},nSc=function(a,b,c){a.values.push(...b);c&&(a.jd=c)},Q2=function(a,b,c){a.values.splice(0,a.values.length,...b);c&&(a.jd=c)},R2=function(a,b){return __c.Wr(a.pd,a.locale,a.devicePixelRatio,c=>{var d;return null===(d=a.Qs)||void 0===d?void 0:QRc(b,c)},a.gu,a.Ps,`${b},`)},oSc=async function(a,b){const c=[],d=[];b.Zv.get().forEach(f=>{const g=__c.Jr(f);null==g?c.push(f):
d.push(g)});const e=await a.Db.lo(new __c.Pr({hn:c,rr:d,Ws:!0,iT:!0,sza:a.Tca}));return()=>Q2(b.lF,Array.from(e.Nc),new S2(3))},pSc=async function(a,b){if(3===b.Lv.status||4===b.Lv.status)return a.iOa(b)},qSc=async function(a,b){if(3===b.wv.status||4===b.wv.status){let c;const d=[];do{const e=await a.Db.Z6(new __c.Qr({ba:c,limit:100,cf:!1,nn:a.txa,projection:a.A4a,Dz:a.Tca}));c=e.ba;d.push(...e.Nc)}while(null!=c);return()=>Q2(b.wv,d)}},rSc=function(a){return a.filter(b=>!b.hidden)},sSc=function(a){return function(b){return null!=
b.font&&(b.font.fontFamily===a.id||null!=a.sn&&(b.font.family===a.sn||null!=b.font.media&&b.font.media.id===a.sn))}},vSc=async function(a,b,c){P2(b.Nc.jd);var d=a.sC?[4]:[];d=[3,1,...a.hS?[5]:[],...d];try{const e=await a.Db.Pna(new tSc({ba:b.Nc.jd.ba,limit:c,locale:a.locale,nn:d,query:b.Fq,projection:a.gu||null!=a.Ps?uSc:void 0,Dz:null!=a.Ps})),f=e.ba,g=e.Nc;T2.G(()=>{b.Nc.jd.bB(f);nSc(b.Nc,g.filter(a.egc))})}catch(e){T2.G(()=>b.Nc.jd.onError(e)),a.fa.error(e,{Ee:"unable to search font families"})}},
wSc=function(a){return{type:"search",key:a,text:a}},xSc=function(a,b){a=a.toLowerCase();let c=0;for(let d=1;d<b.length;d++){const e=b.slice(0,d),f=a.indexOf(e);if(0>f)break;c=Math.max(c,d/(f-Math.max(0,a.lastIndexOf(" ",f))+(Math.max(b.length,a.length)-e.length)+1))}return c},ESc=function(a){async function b(Zb){let Ld=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;Wa.r4a(Cb,Zb,Ld);Ba.FFb(ua.gV,Zb,1!==Ld)&&(await La.reset(ua,!0),Gb())}var c=a.documentId;let d=a.Zv,e=a.PV,f=a.locale,g=a.Db,
h=a.gf,m=a.fa,p=a.pd;var r=a.hS;r=void 0===r?!1:r;var v=a.sC;v=void 0===v?!1:v;var w=a.G6;w=void 0===w?!1:w;var y=a.Idb;let z=void 0===y?!1:y;y=a.Yva;let A=void 0===y?!0:y;y=a.gu;y=void 0===y?!1:y;var D=a.jw;let E=void 0===D?!1:D;D=a.Mwa;D=void 0===D?!1:D;let I=a.Ps;var P=a.xH;let Q=void 0===P?{}:P,M=a.ftc,R=a.Ja,W=a.Nqa,V=a.kY;P=a.Bu;let Y=void 0===P?new T2.b:P,ca=a.style;P=a.RL;let ja=a.Qs,X=a.source;a=a.analytics;const na=new ySc({source:X,documentId:c,analytics:a,panel:"categories"}),oa=new U2({K0:new V2({Db:g,
fa:m,pd:p,locale:f,hS:r,sC:v,xH:Q,Zv:d,Qs:ja,gu:y,Ps:I}),analytics:na}),pa=oa.Ka({PV:e,Bu:Y,zxa:"document"}),va=new ySc({source:X,documentId:c,analytics:a,panel:"search_results"}),Ba=new W2({Db:g,fa:m,pd:p,locale:f,hS:r,sC:v,G6:w,Qs:ja,gu:y,Ps:I}),La=new U2({K0:Ba,analytics:va}),ua=La.Ka({PV:e,Bu:Y,zxa:"other-fonts",zza:5}),wa=new ySc({source:X,documentId:c,analytics:a,panel:"search_home"}),Ma=new U2({K0:new X2({Db:g,gf:h,Ya:"font_query",RL:P,locale:f}),analytics:wa}),Ka=Ma.Ka({PV:e,Bu:Y,zxa:"recent-searches",
zza:5}),Xa=M2.createRef(),Ja=M2.createRef(),Pa=M2.createRef(),Va=(Zb,Ld)=>oa.loadMore({store:pa,ZXa:Zb,force:Ld}),vb=(Zb,Ld)=>La.loadMore({store:ua,ZXa:Zb,force:Ld}),Sb=(Zb,Ld)=>Ma.loadMore({store:Ka,ZXa:Zb,force:Ld}),Mb=Zb=>{switch(Zb.type){case "font":case "font-weight":return oa.mEa(pa,Zb),M(Zb,pa.U$);case "search":return b(Zb.text,2);case "pending":break;case "error":return Va(1,!0);default:throw new __c.G(Zb);}},gb=Zb=>{switch(Zb.type){case "font":case "font-weight":return La.mEa(ua,Zb),Wa.r4a(Cb,
Cb.Fq,4),M(Zb,ua.U$);case "search":return b(Zb.text,2);case "pending":break;case "error":return vb(1,!0);default:throw new __c.G(Zb);}},qb=Zb=>{switch(Zb.type){case "font":case "font-weight":return Ma.mEa(Ka,Zb),M(Zb,Ka.U$);case "search":return b(Zb.text,2);case "pending":break;case "error":return Sb(1,!0);default:throw new __c.G(Zb);}},ac=Zb=>{oa.IFa(pa,Zb)},Nb=Zb=>{La.IFa(ua,Zb)},Mc=Zb=>{Ma.IFa(Ka,Zb)},Ac=Zb=>{oa.s_a(pa,Zb)},nc=Zb=>{La.s_a(ua,Zb)},qd=()=>{switch(Cb.mode){case 0:null!=pa.MN&&Mb(pa.MN);
break;case 1:null!=ua.MN&&gb(ua.MN);break;case 2:null!=Ka.MN&&qb(Ka.MN);break;default:throw new __c.G(Cb.mode);}},oc=()=>{let Zb;switch(Cb.mode){case 0:Zb=oa.HFa(pa);Xa.current&&Xa.current.eGa();break;case 1:Zb=La.HFa(ua);Ja.current&&Ja.current.eGa();break;case 2:Zb=Ma.HFa(Ka);Pa.current&&Pa.current.eGa();break;default:throw new __c.G(Cb.mode);}return Zb},Kb=()=>{let Zb;switch(Cb.mode){case 0:Zb=oa.JFa(pa);Xa.current&&Xa.current.fGa();break;case 1:Zb=La.JFa(ua);Ja.current&&Ja.current.fGa();break;
case 2:Zb=Ma.JFa(Ka);Pa.current&&Pa.current.fGa();break;default:throw new __c.G(Cb.mode);}return Zb},zb=new zSc({analytics:a,source:X,documentId:c,Wxb:[va],Oyb:[na,wa,va]}),Wa=new Y2(zb,h,"font_query",P),Cb=Wa.Ka(D),Gb=__c.Ke(async()=>{await La.loadMore({store:ua,force:!0})},400),zc=()=>{b("",5)},Hb={Via:Zb=>{switch(Zb){case "document":break;case "brand":return __c.F("TGXTPA",[]);case "locale":return __c.F("8A/pjg",[]);case "other":return __c.F("sGu30Q",[]);case "uploaded":return __c.F("qgb8lg",[]);
default:throw new __c.G(Zb);}}},mc=L2.c(()=>M2.createElement(ASc,{wr:pa.wr,Thb:pa.le,Bu:Y,selectedOptions:pa.selectedOptions,Jhb:pa,K1:Va,Wk:Mb,onFocus:ac,footer:W,hU:Hb,nHa:z,lHa:A,Zv:d.get(),ref:Xa,kY:V,style:ca,jw:E,analytics:na,Aaa:Ac,$wa:pa.ES})),Ec={Neb:()=>__c.F("uB968w",[Cb.Fq]),Via:Zb=>{switch(Zb){case "suggested-searches":return __c.F("cZ6cAQ",[]);case "other-fonts":return __c.F("iBdmqg",[]);default:throw new __c.G(Zb);}}},Ab=L2.c(()=>M2.createElement(BSc,{wr:ua.wr,Thb:ua.le,Bu:Y,selectedOptions:ua.selectedOptions,
Jhb:ua,K1:vb,Wk:gb,onFocus:Nb,hU:Ec,nHa:z,lHa:A,Zv:d.get(),ref:Ja,kY:V,style:ca,analytics:va,Aaa:nc,$wa:ua.ES})),cb={Via:Zb=>{switch(Zb){case "recent-searches":return __c.F("XmGp4Q",[]);case "suggested-searches":return __c.F("cZ6cAQ",[]);default:throw new __c.G(Zb);}}};c=ZRc({Db:g,locale:f});const Wb=c.w3b,We=c.sync,Xe=Zb=>Zb.text&&b(Zb.text,3),Mh=()=>M2.createElement(Wb,{onSelect:Xe}),Vd=()=>{Ma.refresh(Ka)},Ye=D?L2.c(()=>M2.createElement(CSc,{wr:Ka.wr,Thb:Ka.le,Bu:Y,selectedOptions:Ka.selectedOptions,
Jhb:Ka,K1:Sb,Wk:qb,onFocus:Mc,hU:cb,nHa:z,lHa:A,Zv:d.get(),ref:Pa,kY:V,style:ca,header:Mh,Wrc:Vd,analytics:wa})):void 0,pc=()=>Wa.q4a(Cb,!0),Ie=()=>Wa.q4a(Cb,!1);let Ze,id;const Rk=()=>{const Zb=null!=window.devicePixelRatio?Math.round(window.devicePixelRatio):1;let Ld,cp=!0;const dp=Ze?T2.G(async()=>{await Promise.all([oa.sync(pa,Zb),La.sync(ua,Zb),Ma.sync(Ka,Zb),We(Zb)])}):Promise.resolve();Ze=!0;dp.then(()=>{cp&&(Ld=T2.F(()=>Q.Qi,async ws=>{await oa.reset(pa,!0);Ze&&await oa.loadMore({store:pa});
id=ws},{fireImmediately:Q.Qi!==id}))});return()=>{Wa.clear(Cb);Ld&&Ld();cp=!1}};return{kM:L2.c(Zb=>{let Ld=Zb.Pb;return M2.createElement(DSc,{Pb:"fill"===Ld&&2===R.aa?"scroll":Ld,ZCa:zc,wsb:b,Fq:Cb.Fq,y3b:mc,B7b:Ab,bIb:Ye,mode:Cb.mode,LO:oc,MO:Kb,BZb:qd,na:Zb.va,Ila:pc,Mla:Ie,style:ca,ob:Rk,Ja:R,analytics:zb})}),aV:async()=>{Ze=!0;await oa.loadMore({store:pa})},refresh:()=>{oa.refresh(pa)},reset:async()=>{await La.reset(ua);await oa.reset(pa);await Ma.reset(Ka)}}},FSc=function(a,b,c,d){a.rYa=b;a.nP=
c;a.jub=d},GSc=function(a){a.rYa=void 0;a.nP=void 0},HSc=function(a,b,c){b={["font-family"]:b};null!=c&&(b["font-weight"]=c);a.Gb.rz(b);a.Gb.We()},ISc=a=>{switch(a){case 1:return"COLLECTION_KEYWORDS";default:throw new __c.G(a);}};var DRc=class{constructor(a){this.id=a.id;this.Ur=a.Ur;this.keywords=a.keywords||[]}};var BRc=class{constructor(a){this.locale=a.locale;this.keywords=a.keywords||[]}};var HRc=class{constructor(a){this.id=a.id;this.locale=a.locale;this.text=a.text;this.images=a.images||[]}};
var FRc=class{constructor(a){this.url=a.url;this.width=a.width;this.height=a.height;this.quality=a.quality}};var tSc=class{constructor(a){this.query=a.query;this.locale=a.locale;this.nn=a.nn||[];this.limit=a.limit;this.ba=a.ba;this.projection=a.projection||[];this.BJa=a.BJa||[];this.Dz=null!=a.Dz?a.Dz:!1;this.sg=a.sg}};var JSc="search",KSc="collections",LSc="suggestedpills";__c.cs.prototype.via=__c.da(24,async function(a){return this.Db.via(a)});
__c.mD.prototype.via=__c.da(23,function(a){let b=__c.df(__c.gf([__c.LN,KSc]),{["continuation"]:a.ba,["limit"]:a.limit,["find"]:!0});a.projection.length&&(b=__c.df(b,{["projection"]:a.projection.map(ISc)}));return this.Ea.get(__c.jf(b)).then(LRc)});__c.cs.prototype.xia=__c.da(22,async function(a){return this.Db.xia(a)});__c.mD.prototype.xia=__c.da(21,function(a){a=__c.jf(__c.df(__c.gf([__c.LN,LSc]),{["locale"]:a.locale}));return this.Ea.get(a).then(MRc)});__c.cs.prototype.Ona=__c.da(20,async function(a){return this.Db.Ona(a)});
__c.mD.prototype.Ona=__c.da(19,function(a){let b=__c.df(__c.gf([__c.LN,KSc,JSc]),{["query"]:a.query,["continuation"]:a.ba,["locale"]:a.locale});a.projection.length&&(b=__c.df(b,{["projection"]:a.projection.map(ISc)}));return this.Ea.get(__c.jf(b)).then(KRc)});
__c.cs.prototype.Pna=__c.da(18,async function(a){var b=[];const c=[],d=new Set,e=NRc(a.query);var f=p=>e.test(p.name);const g=p=>{const r=__c.Ir(p);d.has(r)||(c.push(p),d.add(r))};(await ORc(this,a)).filter(f).forEach(g);if(null!=this.xH.Qi){const p=await PRc(this);b.push(...p);b.filter(f).forEach(g)}const h=null!=a.ba?a.limit:Math.max(a.limit-c.length,1);let m;f=p=>this.Db.Pna(new tSc(Object.assign({},a,{sg:this.sg,limit:h,BJa:p})));this.sS?0<b.length&&(m=await f(b.map(p=>p.id))):m=await f();b=[];
m&&(m.Nc.forEach(p=>__c.Or(this,p)),f=m.Nc.filter(p=>!d.has(__c.Ir(p))),b.push(...f));b=null==a.ba?[...c.sort((p,r)=>p.name.localeCompare(r.name,this.locale)),...b]:b;return new __c.Go({Nc:b,ba:m&&m.ba})});
__c.mD.prototype.Pna=__c.da(17,function(a){let b=__c.df(__c.gf([__c.LN,JSc]),{["query"]:a.query,["locale"]:a.locale,["limit"]:a.limit,["continuation"]:a.ba,["includeHiddenFonts"]:a.nn.includes(2),["includeNonLegacyFonts"]:a.nn.includes(3),["includePremiumFonts"]:a.nn.includes(5),["includePaidFonts"]:a.nn.includes(4),["includeHanyiFonts"]:a.nn.includes(1),["whitelistedFontFamilyIds"]:a.BJa,["useExtendedStylesFontFamilies"]:a.Dz});b=__c.k6a(b,a);a.projection.length&&(b=__c.df(b,{["projection"]:a.projection.map(__c.uub)}));
return this.Ea.get(__c.jf(b)).then(JRc)});var MSc=class{constructor(a){this.query=a.query;this.locale=a.locale;this.projection=a.projection||[];this.ba=a.ba}};var NSc=class{constructor(a){this.limit=a.limit;this.ba=a.ba;this.projection=a.projection||[]}};var OSc=class{constructor(a){this.locale=a.locale}};var RRc=class extends __c.zJ{constructor(){super(...arguments);this.Hh=[]}ZW(a){this.Hh.push(a)}};const Z2=__webpack_require__("mrSG");const O2=__webpack_require__("TSYQ");const T2=__webpack_require__("2vnA");const L2=__webpack_require__("kMSe");const M2=__webpack_require__("q1tI");const PSc=__webpack_require__("Gp1o");const jSc=__webpack_require__("A/WM");let YRc=class extends M2.Component{constructor(){super(...arguments);this.preventDefault=a=>a.preventDefault()}componentDidMount(){this.props.PAa()}render(){const a=this.props,b=a.onSelect;return M2.createElement("div",{className:"cr33Sg",onMouseDown:this.preventDefault},M2.createElement(__c.SO,{WN:"small",AR:a.f9b?void 0:"none"},a.EK.map(c=>M2.createElement($2,{key:c.id,onSelect:b,zYa:c}))))}};YRc=Object(Z2.b)([L2.c],YRc);
let $2=class extends M2.Component{constructor(){super(...arguments);this.onClick=()=>this.props.onSelect&&this.props.onSelect(this.props.zYa)}componentDidMount(){this.UEc="loaded"!==this.props.zYa.Dja;this.a0=Date.now()}onError(){this.rgb=!0}onLoad(){if(this.UEc&&null!=this.a0)return window.setTimeout(T2.j(()=>this.loaded=!0),Math.max(0,this.a0-Date.now()+500));this.loaded=!0}get ETa(){return"loaded"!==this.props.zYa.Dja||!this.loaded}render(){const a=this.props.zYa;if(this.rgb||"error"===a.Dja)return null;
const b=a.image;var c=3*__c.jG;c=null!=b?b.width*c/b.height:3*c;return M2.createElement("div",{className:O2("IKZKPw","cr33Sg"),style:{width:c+4*__c.jG}},this.ETa&&M2.createElement(__c.op,null),null!=b&&M2.createElement(__c.NB,{className:O2("IKZKPw","m15xnA",{["Lh9AWQ"]:this.ETa}),onClick:this.onClick},M2.createElement("img",{className:O2("IKZKPw","oP4_JA"),src:b.url,alt:a.text,style:{width:c},onError:this.onError,onLoad:this.onLoad})))}};__c.k(()=>$2.prototype.loaded);
Object(Z2.b)([T2.C.ref],$2.prototype,"loaded",void 0);__c.k(()=>$2.prototype.rgb);Object(Z2.b)([T2.C.ref],$2.prototype,"rgb",void 0);__c.k(()=>$2.prototype.onError);Object(Z2.b)([T2.j.bound],$2.prototype,"onError",null);__c.k(()=>$2.prototype.onLoad);Object(Z2.b)([T2.j.bound],$2.prototype,"onLoad",null);__c.k(()=>$2.prototype.ETa);Object(Z2.b)([T2.m],$2.prototype,"ETa",null);$2=Object(Z2.b)([L2.c],$2);var a3=class{constructor(a,b,c){this.source=a;this.image=b;this.D7=c}get id(){return this.source.id}get text(){return this.source.text}get Dja(){return this.D7.get(this.image.url)}};__c.k(()=>a3.prototype.image);Object(Z2.b)([T2.C.ref],a3.prototype,"image",void 0);__c.k(()=>a3.prototype.Dja);Object(Z2.b)([T2.m],a3.prototype,"Dja",null);var K2=class{constructor(){this.D7=new T2.b;this.devicePixelRatio=1}get Jcb(){return null!=this.EK}get uub(){return this.EK||[{id:"placeholder",Dja:"loading"}]}};
__c.k(()=>K2.prototype.EK);Object(Z2.b)([T2.C.ref],K2.prototype,"EK",void 0);__c.k(()=>K2.prototype.Jcb);Object(Z2.b)([T2.m],K2.prototype,"Jcb",null);__c.k(()=>K2.prototype.uub);Object(Z2.b)([T2.m],K2.prototype,"uub",null);
var J2=class{constructor(a,b){let c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:XRc;this.Db=a;this.locale=b;this.DTa=c}async PAa(a){if(null==a.EK){var b=(await this.Db.xia(new OSc({locale:this.locale}))).fSa.map(c=>{const d=WRc(c,a.devicePixelRatio);if(null!=d)return new a3(c,d,a.D7)}).filter(__c.sh);await T2.G(async()=>{a.EK=b;await this.eBa(a,a.devicePixelRatio)})}}sync(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;a.devicePixelRatio=b;return this.eBa(a,b)}async eBa(a,
b){var c=a.EK;c&&(c=c.map(async d=>{const e=WRc(d.source,b);if(null!=e&&null==a.D7.get(e.url)){a.D7.set(e.url,"loading");d.image=e;try{await this.DTa(e.url),T2.G(()=>a.D7.set(e.url,"loaded"))}catch(f){T2.G(()=>a.D7.set(e.url,"error"))}}}),await Promise.all(c))}};__c.k(()=>J2.prototype.PAa);Object(Z2.b)([T2.j],J2.prototype,"PAa",null);__c.k(()=>J2.prototype.sync);Object(Z2.b)([T2.j],J2.prototype,"sync",null);var ySc=class{constructor(a){let b=a.panel,c=a.source,d=a.documentId;this.analytics=a.analytics;this.panel=b;this.source=c;this.documentId=d}trackFontFamilyItemClicked(a){this.analytics.trackFontFamilyItemClicked({source:this.source,panel:this.panel,designId:this.documentId,sessionId:this.sessionId||"",searchId:this.searchId,categoryId:a.categoryId,itemId:a.itemId,itemType:a.itemType,itemPosition:a.itemPosition})}trackFontFamilyResultsLoaded(a){this.analytics.trackFontFamilyResultsLoaded({source:this.source,
panel:this.panel,designId:this.documentId,sessionId:this.sessionId,searchId:this.searchId,results:a.results,startPosition:a.startPosition})}};const b3=a=>{const b=a.Icon,c=a.className;return M2.createElement("div",{className:"zA9JMA"},M2.createElement(b,Object.assign({},a,{className:O2(c,"djynOA","_2xAqMg")})),M2.createElement(b,Object.assign({},a,{className:O2(c,"djynOA","vMRDVw")})))};var c3=class extends M2.Component{constructor(){super(...arguments);this.qB=()=>{this.props.qB&&this.props.qB()};this.pB=()=>{this.open&&this.props.pB&&this.props.pB()};this.myc=a=>{a.stopPropagation();this.open?this.props.pB&&this.props.pB():this.props.qB&&this.props.qB(!a.touches)};this.stopPropagation=a=>{a.stopPropagation()};this.Button=()=>{const a=this.AFa.className,b=__c.me()?"medium":"small";return M2.createElement("div",{onMouseEnter:this.qB,onMouseLeave:this.pB,onTouchStart:this.stopPropagation,
onTouchEnd:this.stopPropagation},M2.createElement(__c.NB,{className:O2("Sly0UQ",a),title:this.title,onClick:this.myc,icon:this.Icon,Fg:b}))}}get AFa(){switch(this.props.WD){case 0:return{Icon:__c.BG,className:"rM6XGQ",j1b:__c.F("DiA75w",[])};case 1:return{Icon:__c.BG,className:"rM6XGQ"};case 2:return{Icon:__c.vG,className:"i6FHYw",j1b:__c.F("1FMAxg",[])};default:throw new __c.G(this.props.WD);}}get open(){var a;return!(null===(a=this.props.Si)||void 0===a||!a.open)}get title(){switch(this.props.WD){case 1:case 0:return __c.F("SsQf9A",
[]);case 2:return __c.F("C0dkSg",[]);default:throw new __c.G(this.props.WD);}}get Icon(){const a=this.AFa.Icon;return b=>M2.createElement(b3,Object.assign({Icon:a},b))}render(){const a=this.AFa.j1b;var b=this.props;const c=b.Si;b=b.iB;return null!=c&&this.open&&a?M2.createElement(__c.sH,{placement:"top",label:a,$ea:!b,state:c},M2.createElement(this.Button,null)):M2.createElement(this.Button,null)}};__c.k(()=>c3.prototype.AFa);Object(Z2.b)([T2.m],c3.prototype,"AFa",null);__c.k(()=>c3.prototype.title);
Object(Z2.b)([T2.m],c3.prototype,"title",null);const QSc=a=>M2.createElement(b3,Object.assign({Icon:__c.oG},a)),RSc=a=>M2.createElement(b3,Object.assign({Icon:__c.pG},a));
let e3=class extends M2.Component{constructor(){super(...arguments);this.Bi=M2.createRef();this.Job=M2.createRef();this.Is=!1;this.Td=T2.m(()=>this.props.Jhb.MN);this.K1=()=>{const a=this.props.vMb?void 0:this.LOb;(null==a||0<a)&&this.props.K1&&this.props.K1(a)};this.ncc=(a,b)=>M2.createElement(__c.Xz,{text:b});this.kY=this.props.kY?this.props.kY:this.ncc;this.ggc=Object(PSc.f)(a=>{var b=this.props.hU.Via?this.props.hU.Via(a.id):void 0;b=b?M2.createElement(__c.Rpb,{key:a.id,className:"kvlBDw"},this.kY(a.id,
b)):void 0;return{key:a.id,rdc:b,options:a.options.map(this.Dbc(a.id))}});this.Dbc=a=>Object(PSc.f)(b=>{const c=O2("gbEMZw",this.props.rJc,"compact"===this.props.style?"AZWVAA":"dkEIwQ");switch(b.type){case "font":case "font-weight":return{key:b.key,value:b,className:c,content:M2.createElement("div",{className:"dR_Nag"},M2.createElement(d3,{key:b.key,option:b,Bu:this.props.Bu,J6a:this.props.J6a,Zv:this.props.Zv,JA:this,dXb:this.props.dXb,nHa:this.props.nHa,lHa:this.props.lHa,qB:this.qB,pB:this.pB,
selectedOptions:this.props.selectedOptions,jw:this.props.jw,Aaa:this.props.Aaa,$wa:this.props.$wa}))};case "search":return{key:b.key,value:b,className:c,content:M2.createElement("div",{className:"dR_Nag"},M2.createElement(__c.DG,{size:"medium",className:"_0ZJ59Q"}),M2.createElement("div",{className:"nwMw7g n9zSJA ZTpOuQ"},b.text))};case "pending":return{key:b.key,value:b,className:c,content:M2.createElement("div",{className:"G7Da2A"},M2.createElement("div",{className:O2("_0y1LNw","_74Sf5w")},M2.createElement(__c.op,
null)),M2.createElement("div",{className:O2("_0y1LNw","_9n2_Uw")},M2.createElement(__c.op,null)))};case "error":var d=null!=this.props.hU.Via?this.props.hU.Via(a):void 0;d=null!=d?__c.F("ifFQnw",[__c.Re(d)]):__c.F("FAGapw",[]);return{key:b.key,value:b,className:c,content:M2.createElement("div",{className:"G7Da2A"},M2.createElement(__c.XG,null,M2.createElement(__c.tB,{message:d,className:"GXAi9A"})))};default:throw new __c.G(b);}});this.zn=T2.j(a=>!this.Is&&this.props.onFocus&&this.props.onFocus(a));
this.Ru=T2.j(()=>!this.Is&&this.props.onFocus&&this.props.onFocus());this.onMouseMove=T2.j(()=>this.Is=!1);this.Wk=a=>{var b=this.le.reduce((e,f)=>{const g=e.itemPosition;return null==e.categoryId?(e=f.options.findIndex(h=>h.key===a.key),0<=e?{categoryId:f.key,itemPosition:g+e}:{itemPosition:g+f.options.length}):e},{itemPosition:0});const c=b.itemPosition;b=b.categoryId;const d=$Rc(a);this.props.analytics.trackFontFamilyItemClicked({itemId:d,itemType:a.type,itemPosition:c,categoryId:b});this.props.Wk&&
this.props.Wk(a)}}get le(){return this.props.Thb.filter(a=>0<a.options.length).map(this.ggc)}get FAc(){return 3===this.props.wr&&(0===this.le.length||1===this.le.length&&0===this.le[0].options.length)&&null!=this.props.hU.Neb}get Mxb(){const a=this.Bi.current;return null!=a?a.offsetParent:null}get LOb(){const a=this.Mxb;return null!=a?Math.ceil((2*a.clientHeight-(a.scrollHeight-a.scrollTop-a.clientHeight))/parseFloat("40px")):0}componentDidMount(){var a=this.props,b=a.Wrc;a=a.vMb;(0<this.LOb||this.props.vMb)&&
this.K1();null!=b&&(b=b(),null!=b&&L2.b(this,b));a||(b=this.Mxb,null!=b&&b.addEventListener("scroll",this.onScroll))}componentWillUnmount(){const a=this.Mxb;null!=a&&a.removeEventListener("scroll",this.onScroll)}fGa(){const a=this.Job.current;this.Is=!0;this.JA=void 0;a&&__c.Pe(a)&&a.$T()}eGa(){const a=this.Job.current;this.Is=!0;this.JA=void 0;a&&__c.Oe(a)&&a.T_()}onScroll(){this.JA=void 0;this.K1()}qB(a,b,c){this.JA={WD:b,value:a,Si:new __c.pH({open:!0}),iB:!!c}}pB(a,b){this.JA&&this.JA.value===
a&&this.JA.WD===b&&(this.JA=void 0)}render(){return M2.createElement("div",{className:"_-6I9lg",ref:this.Bi},M2.createElement("div",{className:"X0ixeg"},this.qp()),this.props.footer&&M2.createElement("div",{className:"_1d8MvA"},M2.createElement(this.props.footer,null)))}qp(){const a=O2("HvcGqA","compact"===this.props.style?"AZWVAA":"dkEIwQ"),b=O2("y7TIag","compact"===this.props.style?"AZWVAA":"dkEIwQ"),c=this.Is?this.onMouseMove:void 0;return M2.createElement(M2.Fragment,null,this.props.header&&M2.createElement("div",
{className:b},M2.createElement(this.props.header,null)),this.FAc?M2.createElement("div",{className:"_4Zxamg"},M2.createElement(__c.jE.Ga,{color:"monoBlackA200"},this.props.hU.Neb&&this.props.hU.Neb())):M2.createElement(__c.IH,{ePa:!1,Td:this.Td,le:this.le,zn:this.zn,Ru:this.Ru,onMouseMove:c,Wk:this.Wk,iTa:a,ref:this.Job}),M2.createElement("div",{className:"yJk5Mg",onClick:this.K1},1===this.props.wr&&M2.createElement(__c.ZA,{size:"medium"})))}};__c.k(()=>e3.prototype.Is);
Object(Z2.b)([T2.C.ref],e3.prototype,"Is",void 0);__c.k(()=>e3.prototype.JA);Object(Z2.b)([T2.C.ref],e3.prototype,"JA",void 0);__c.k(()=>e3.prototype.fGa);Object(Z2.b)([T2.j],e3.prototype,"fGa",null);__c.k(()=>e3.prototype.eGa);Object(Z2.b)([T2.j],e3.prototype,"eGa",null);__c.k(()=>e3.prototype.onScroll);Object(Z2.b)([T2.j.bound],e3.prototype,"onScroll",null);__c.k(()=>e3.prototype.qB);Object(Z2.b)([T2.j.bound],e3.prototype,"qB",null);__c.k(()=>e3.prototype.pB);
Object(Z2.b)([T2.j.bound],e3.prototype,"pB",null);e3=Object(Z2.b)([L2.c],e3);
let d3=class extends M2.Component{constructor(){super(...arguments);this.lyc=a=>this.props.qB(this.Qxa,this.RYa,a);this.gyc=()=>this.props.pB(this.Qxa,this.RYa);this.kyc=a=>this.props.qB(this.Qxa,2,a);this.fyc=()=>this.props.pB(this.Qxa,2);this.drc=()=>{this.mMa(this.fgc,()=>this.Nhb=!0)};this.ctc=()=>{this.mMa(this.dzc,()=>this.Kxb=!0)};this.Aaa=a=>{a.preventDefault();a.stopPropagation();a=this.props.option;"font"===a.type&&null!=this.props.Aaa&&this.props.Aaa(a)}}get $_a(){const a=this.props.option;
return"font"===a.type&&null!=a.$_a?`${a.$_a}px`:void 0}get Qxa(){const a=this.props.option;return"font"===a.type?a:a.parent}get Jxb(){const a=this.props.option;return"font"===a.type&&a.aH&&"error"!==this.props.Bu.get(a.aH)&&!this.jw}get aH(){const a=this.props.option;return this.Jxb&&"font"===a.type?a.aH:void 0}get Oxa(){return null!=this.props.option.Oxa?`${this.props.option.Oxa}px`:void 0}get Mhb(){return this.props.option.LC&&"error"!==this.props.Bu.get(this.props.option.LC)&&!this.gkb}get LC(){return this.Mhb?
this.props.option.LC:void 0}get T4a(){return N2(this,this.LC)||!this.Nhb}get U4a(){return N2(this,this.aH)||!this.Kxb}get RYa(){return this.props.dXb?0:1}get cYa(){const a=this.props.JA.JA;return 2===(null===a||void 0===a?void 0:a.WD)&&(null===a||void 0===a?void 0:a.value)===this.props.option?a:void 0}get QYa(){const a=this.props.JA.JA;return(null===a||void 0===a?void 0:a.WD)===this.RYa&&(null===a||void 0===a?void 0:a.value)===this.props.option?a:void 0}componentDidMount(){this.fgc=N2(this,this.LC);
this.dzc=N2(this,this.aH);this.a0=Date.now()}mrb(){null!=this.LC&&(this.gkb=!0)}usb(){null!=this.aH&&(this.jw=!0)}mMa(a,b){if(a&&null!=this.a0)return window.setTimeout(T2.j(b),Math.max(0,this.a0-Date.now()+500));b()}render(){var a,b,c,d,e=this.props;const f=e.option;var g=e.selectedOptions;e="font-weight"===f.type?aSc(f.weight):f.name;var h=this.Qxa;const m=h.Bdb;var p=h.Tgb,r=p.QAa,v=5E6<=p.Fh,w=g&&0<=g.indexOf(f);g=null!=this.props.$wa&&this.props.$wa.has(f.key);p="loading"===r&&this.props.Zv.has(__c.Ir(h))&&
("font"===f.type&&!g||w);const y=w&&!p;v=v&&!w&&"none"===r;w=h.Mm;const z=3===h.ja&&this.props.lHa;r="error"===r;h=!h.cf&&this.props.nHa;return M2.createElement(M2.Fragment,null,M2.createElement("div",{className:"_9YKilg"},M2.createElement("div",{className:O2("G7Da2A",{["wQXRsg"]:"font-weight"===f.type})},this.LC?M2.createElement("div",{className:O2("_0y1LNw","_74Sf5w"),style:{width:this.Oxa}},this.T4a&&M2.createElement(__c.op,null),M2.createElement("img",{className:O2("vaCyag","_74Sf5w",{["fnGZPg"]:this.T4a,
["cJID7g"]:null!=m}),src:this.LC,title:e,onError:this.mrb,onLoad:this.drc})):M2.createElement("span",{className:"_6zwcjQ n9zSJA ZTpOuQ"},e),this.aH&&!this.props.jw&&M2.createElement("div",{className:O2("_0y1LNw","_9n2_Uw"),style:{width:this.$_a}},this.U4a&&M2.createElement(__c.op,null),M2.createElement("img",{className:O2("vaCyag","_9n2_Uw",{["fnGZPg"]:this.U4a,["cJID7g"]:null!=m}),src:this.aH,title:e,onError:this.usb,onLoad:this.ctc})))),M2.createElement("div",{className:"I6xpGg"},p&&M2.createElement(b3,
{Icon:__c.Xr,size:"medium",className:"_0ZJ59Q"}),h&&M2.createElement(b3,{Icon:__c.HG,size:"medium",className:"_0ZJ59Q"}),v&&M2.createElement(b3,{Icon:__c.ZA,size:"medium",className:"_0ZJ59Q"}),r&&M2.createElement(b3,{Icon:__c.inb,size:"medium",className:"_0ZJ59Q"}),y&&M2.createElement(b3,{Icon:__c.GG,size:"medium",className:O2("_0ZJ59Q","B8Qsuw")}),w&&"font"===f.type&&M2.createElement(c3,{WD:this.RYa,qB:this.lyc,pB:this.gyc,Si:null===(a=this.QYa)||void 0===a?void 0:a.Si,iB:null===(b=this.QYa)||void 0===
b?void 0:b.iB}),z&&"font"===f.type&&M2.createElement(c3,{WD:2,qB:this.kyc,pB:this.fyc,Si:null===(c=this.cYa)||void 0===c?void 0:c.Si,iB:null===(d=this.cYa)||void 0===d?void 0:d.iB}),this.props.J6a&&"font"===f.type&&M2.createElement(this.props.J6a,{option:f}),"font"===f.type&&null!=f.styles&&1<f.styles.length&&M2.createElement(__c.NB,{className:O2("_0ZJ59Q","MAzMuw"),icon:g?RSc:QSc,Fg:"medium",onClick:this.Aaa})))}};__c.k(()=>d3.prototype.jw);Object(Z2.b)([T2.C.ref],d3.prototype,"jw",void 0);
__c.k(()=>d3.prototype.gkb);Object(Z2.b)([T2.C.ref],d3.prototype,"gkb",void 0);__c.k(()=>d3.prototype.Kxb);Object(Z2.b)([T2.C.ref],d3.prototype,"Kxb",void 0);__c.k(()=>d3.prototype.Nhb);Object(Z2.b)([T2.C.ref],d3.prototype,"Nhb",void 0);__c.k(()=>d3.prototype.Jxb);Object(Z2.b)([T2.m],d3.prototype,"Jxb",null);__c.k(()=>d3.prototype.aH);Object(Z2.b)([T2.m],d3.prototype,"aH",null);__c.k(()=>d3.prototype.Mhb);Object(Z2.b)([T2.m],d3.prototype,"Mhb",null);__c.k(()=>d3.prototype.LC);
Object(Z2.b)([T2.m],d3.prototype,"LC",null);__c.k(()=>d3.prototype.T4a);Object(Z2.b)([T2.m],d3.prototype,"T4a",null);__c.k(()=>d3.prototype.U4a);Object(Z2.b)([T2.m],d3.prototype,"U4a",null);__c.k(()=>d3.prototype.cYa);Object(Z2.b)([T2.m],d3.prototype,"cYa",null);__c.k(()=>d3.prototype.QYa);Object(Z2.b)([T2.m],d3.prototype,"QYa",null);__c.k(()=>d3.prototype.mrb);Object(Z2.b)([T2.j.bound],d3.prototype,"mrb",null);__c.k(()=>d3.prototype.usb);Object(Z2.b)([T2.j.bound],d3.prototype,"usb",null);
__c.k(()=>d3.prototype.mMa);Object(Z2.b)([T2.j],d3.prototype,"mMa",null);d3=Object(Z2.b)([L2.c],d3);const SSc={[5]:"thin",[6]:"thin",[7]:"extra-light",[8]:"extra-light",[9]:"light",[10]:"light",[1]:"normal",[3]:"normal",[11]:"medium",[12]:"medium",[13]:"semi-bold",[14]:"semi-bold",[2]:"bold",[4]:"bold",[15]:"heavy",[16]:"heavy",[17]:"black",[18]:"black",[19]:"poster",[20]:"poster"},TSc={[1]:"normal",[2]:"normal",[3]:"italic",[4]:"italic",[5]:"normal",[6]:"italic",[7]:"normal",[8]:"italic",[9]:"normal",[10]:"italic",[11]:"normal",[12]:"italic",[13]:"normal",[14]:"italic",[15]:"normal",[16]:"italic",
[17]:"normal",[18]:"italic",[19]:"normal",[20]:"italic"};var f3=class{constructor(a){let b=a.R4,c=a.RVa;a=a.cBa;this.KFa=this.Tua=this.Ama=this.xna=this.wna=0;this.fPa=()=>{this.Tua=this.KFa=this.wna=0};this.R4=b;this.cBa=null!=a?a:100;this.RVa=Math.min(this.cBa,null!=c?c:10)}get pending(){return this.Tua!==this.KFa||0<this.Ama}get zma(){return Math.max(0,this.wna-this.R4.quantity)}Rkb(){this.Tua++}t8a(a,b){this.wna=Math.max(this.wna,this.R4.quantity+a);return this.kMa(bSc(this,b))}kMa(a){this.KFa++;const b=this.xna,c=()=>{this.xna===b&&this.Rkb()};return this.m1?
this.m1=this.m1.catch(d=>d).then(a).finally(c):this.m1=a().finally(c)}reset(a){const b=++this.xna;this.m1?(this.Ama++,this.m1=this.m1.catch(c=>c).then(T2.j(async()=>{try{if(this.fPa(),a&&b===this.xna)return await a()}finally{T2.G(()=>{this.Ama--})}}))):(this.fPa(),this.m1=a?a():Promise.resolve());return this.m1}};__c.k(()=>f3.prototype.wna);Object(Z2.b)([T2.C.ref],f3.prototype,"wna",void 0);__c.k(()=>f3.prototype.Ama);Object(Z2.b)([T2.C.ref],f3.prototype,"Ama",void 0);__c.k(()=>f3.prototype.Tua);
Object(Z2.b)([T2.C.ref],f3.prototype,"Tua",void 0);__c.k(()=>f3.prototype.KFa);Object(Z2.b)([T2.C.ref],f3.prototype,"KFa",void 0);__c.k(()=>f3.prototype.pending);Object(Z2.b)([T2.m],f3.prototype,"pending",null);__c.k(()=>f3.prototype.zma);Object(Z2.b)([T2.m],f3.prototype,"zma",null);__c.k(()=>f3.prototype.fPa);Object(Z2.b)([T2.j],f3.prototype,"fPa",void 0);__c.k(()=>f3.prototype.Rkb);Object(Z2.b)([T2.j],f3.prototype,"Rkb",null);__c.k(()=>f3.prototype.t8a);Object(Z2.b)([T2.j],f3.prototype,"t8a",null);
__c.k(()=>f3.prototype.kMa);Object(Z2.b)([T2.j],f3.prototype,"kMa",null);const USc={[5]:0,[6]:1,[7]:2,[8]:3,[9]:4,[10]:5,[1]:6,[3]:7,[11]:8,[12]:9,[13]:10,[14]:11,[2]:12,[4]:13,[15]:14,[16]:15,[17]:16,[18]:17,[19]:18,[20]:19};
var g3=class{constructor(a){let b=a.le,c=a.PV,d=a.zxa,e=a.RVa,f=a.cBa,g=a.Bu;a=a.zza;this.devicePixelRatio=1;this.xB=0;this.pending=!1;this.ES=new Set;this.gV=b;this.Hzc=c;this.zxa=d;this.TK=new f3({R4:this,RVa:e,cBa:f});this.Bu=g;this.zza=a}get quantity(){return this.xB}get status(){return 4===this.wr?"erroring":3===this.wr&&this.xB===this.eaa?"complete":"incomplete"}get hnb(){var a=this.gV.le;const b=[];var c=0;const d=this.xB+this.TK.zma;for(const e of a)if(e.Yz)b.push({options:e.options.slice(0),
id:e.id,Yz:e.Yz,status:e.status});else{a=c+e.options.length;if(d<=a){c=d-c;0<c&&b.push({options:e.options.slice(0,c),id:e.id,Yz:e.Yz,status:c===e.options.length?e.status:1});break}else b.push({options:e.options.slice(0),id:e.id,Yz:e.Yz,status:e.status});c=a}return b}get OEb(){const a=this.hnb;let b=!0;for(let c=a.length-1;0<=c;--c){const d=a[c],e=4===d.status&&0===d.options.length,f=2!==d.status&&4!==d.status&&0===d.options.length;4===d.status&&b&&c<a.length-1&&a.splice(c+1,1);f&&(1<a.length||2!==
this.wr)&&a.splice(c,1);b=b&&(e||f)}return a}get ygb(){return this.OEb.map(a=>{const b=a.options.flatMap(c=>{if("font"===c.type&&this.ES.has(c.key)&&null!=c.styles){const d=c.styles.filter(e=>"italic"!==TSc[e.style]).sort((e,f)=>USc[e.style]-USc[f.style]).map(e=>{let f=e.style;return{type:"font-weight",key:`${c.key}-${f}`,name:c.name,parent:c,LC:e.ka,Oxa:e.Xw,weight:SSc[f]}});return[c,...d]}return[c]});return Object.assign({},a,{options:b})})}get le(){const a=this.ygb;0===a.length&&a.push({id:this.zxa,
options:[],Yz:!1,status:this.wr});var b=this.xB+this.TK.zma;a.forEach(c=>{4===c.status&&c.options.push({type:"error",key:`e-${c.id}`});2!==c.status||c.Yz&&0!==c.options.length||c.options.push({type:"pending",key:`p-${c.id}`})});if(2===this.wr&&0<a.length){const c=a[a.length-1];b-=this.eaa;null!=this.zza&&(b=this.zza);for(let d=0;d<b-1;d++)c.options.push({type:"pending",key:`p-${c.id}-${c.options.length}`})}return a}get REa(){return this.gV.le.reduce((a,b)=>{const c=b.status;return null!=c&&(1!==c||
0<b.options.length||3===a)&&4!==a?c:a},1)}get wr(){return(this.TK.pending||this.pending)&&3!==this.REa&&4!==this.REa?2:this.REa}get NXa(){return this.le.reduce((a,b)=>a+b.options.length,0)}get eaa(){return this.gV.le.reduce((a,b)=>a+b.options.length,0)}get selectedOptions(){return this.Hzc.get().flatMap(a=>{const b=a.Hia===this.Zmb?this.U$:void 0,c=cSc(this,a.Hia,b,a.weight);return null!=c?[c]:null!=a.weight&&(a=cSc(this,a.Hia,b),null!=a)?[a]:[]})}get MN(){return dSc(this,this.QS,this.PS)}};
__c.k(()=>g3.prototype.devicePixelRatio);Object(Z2.b)([T2.C.ref],g3.prototype,"devicePixelRatio",void 0);__c.k(()=>g3.prototype.U$);Object(Z2.b)([T2.C.ref],g3.prototype,"U$",void 0);__c.k(()=>g3.prototype.Zmb);Object(Z2.b)([T2.C.ref],g3.prototype,"Zmb",void 0);__c.k(()=>g3.prototype.QS);Object(Z2.b)([T2.C.ref],g3.prototype,"QS",void 0);__c.k(()=>g3.prototype.PS);Object(Z2.b)([T2.C.ref],g3.prototype,"PS",void 0);__c.k(()=>g3.prototype.xB);Object(Z2.b)([T2.C.ref],g3.prototype,"xB",void 0);
__c.k(()=>g3.prototype.pending);Object(Z2.b)([T2.C.ref],g3.prototype,"pending",void 0);__c.k(()=>g3.prototype.TK);Object(Z2.b)([T2.C.ref],g3.prototype,"TK",void 0);__c.k(()=>g3.prototype.ES);Object(Z2.b)([T2.C.shallow],g3.prototype,"ES",void 0);__c.k(()=>g3.prototype.quantity);Object(Z2.b)([T2.m],g3.prototype,"quantity",null);__c.k(()=>g3.prototype.status);Object(Z2.b)([T2.m],g3.prototype,"status",null);__c.k(()=>g3.prototype.hnb);Object(Z2.b)([T2.m],g3.prototype,"hnb",null);__c.k(()=>g3.prototype.OEb);
Object(Z2.b)([T2.m],g3.prototype,"OEb",null);__c.k(()=>g3.prototype.ygb);Object(Z2.b)([T2.m],g3.prototype,"ygb",null);__c.k(()=>g3.prototype.le);Object(Z2.b)([T2.m],g3.prototype,"le",null);__c.k(()=>g3.prototype.REa);Object(Z2.b)([T2.m],g3.prototype,"REa",null);__c.k(()=>g3.prototype.wr);Object(Z2.b)([T2.m],g3.prototype,"wr",null);__c.k(()=>g3.prototype.NXa);Object(Z2.b)([T2.m],g3.prototype,"NXa",null);__c.k(()=>g3.prototype.eaa);Object(Z2.b)([T2.m],g3.prototype,"eaa",null);__c.k(()=>g3.prototype.selectedOptions);
Object(Z2.b)([T2.m],g3.prototype,"selectedOptions",null);__c.k(()=>g3.prototype.MN);Object(Z2.b)([T2.m],g3.prototype,"MN",null);
var U2=class{constructor(a){const b=a.Xnb,c=a.b9a;var d=a.DTa;d=void 0===d?iSc:d;const e=a.K0;a=a.analytics;this.Xnb=void 0===b?200:b;this.b9a=c;this.DTa=d;this.K0=e;this.analytics=a}Ka(a){return new g3(Object.assign({},a,{le:this.K0.init()}))}mEa(a,b){const c=eSc(a,b);a.Zmb="font"===b.type?__c.Ir(b):"font-weight"===b.type?__c.Ir(b.parent):b.key;a.U$=c}IFa(a,b){b?(a.QS=b.key,a.PS=eSc(a,b)):(a.QS=void 0,a.PS=void 0)}HFa(a){var b=null!=a.MN?fSc(a,a.QS,a.PS):-1;return b>=a.NXa-1?!1:(b=gSc(a,b+1))?(a.QS=
b.option.key,a.PS=b.groupId,!0):!1}JFa(a){var b=fSc(a,a.QS,a.PS);0>b&&(b=a.NXa);return 0===b?!1:(b=gSc(a,b-1))?(a.QS=b.option.key,a.PS=b.groupId,!0):!1}s_a(a,b){const c=b.key;a.ES.has(c)?a.ES.delete(c):(a.ES.add(c),hSc(this,a,b))}async eBa(a){await Promise.all(a.le.flatMap(b=>b.options.reduce((c,d)=>"font"===d.type?[this.RT(a,d.LC),this.RT(a,d.aH),hSc(this,a,d),...c]:c,[])))}async RT(a,b){if(null!=b&&null==a.Bu.get(b)){a.Bu.set(b,"loading");try{await this.DTa(b),T2.G(()=>a.Bu.set(b,"loaded"))}catch(c){throw T2.G(()=>
a.Bu.set(b,"error")),c;}}}async sync(a,b){a.U$=void 0;a.QS=void 0;a.PS=void 0;a.devicePixelRatio=b;await a.TK.reset();a.xB>this.Xnb&&T2.G(()=>{a.xB=this.Xnb});await this.refresh(a)}async refresh(a){await a.TK.kMa(()=>this.K0.refresh(a.gV,a.devicePixelRatio));this.eBa(a)}async loadMore(a){let b=a.store;var c=a.ZXa;a=a.force;a=void 0===a?!1:a;c=(void 0===c?60:c)+b.TK.zma;do(4!==b.wr||a)&&await b.TK.t8a(c,d=>this.Rdb(b,d));while(this.b9a&&3!==b.wr&&4!==b.wr);return{EIc:this.eBa(b)}}async Rdb(a,b){if(!(0>=
b)){var c=a.eaa;if(a.xB<c){a.xB+=b;var d=a.xB-c}else d=b;if(0<d){const e=new Set(a.gV.le.flatMap(g=>g.options).map(g=>g.key));b=a.eaa;await this.K0.loadMore(a.gV,d);const f=[...new Set(a.gV.le.flatMap(g=>g.options).map(g=>g.key))].filter(g=>!e.has(g));this.analytics.trackFontFamilyResultsLoaded({results:f.join(";"),startPosition:b});T2.G(()=>{a.xB=Math.min(a.eaa,c+d);a.TK.Ama||(a.pending=!1)})}}}async reset(a,b){a.pending=!!b;await a.TK.reset(()=>this.K0.reset(a.gV));this.b9a&&await this.loadMore({store:a});
T2.G(()=>{a.xB=0})}};__c.k(()=>U2.prototype.mEa);Object(Z2.b)([T2.j],U2.prototype,"mEa",null);__c.k(()=>U2.prototype.IFa);Object(Z2.b)([T2.j],U2.prototype,"IFa",null);__c.k(()=>U2.prototype.HFa);Object(Z2.b)([T2.j],U2.prototype,"HFa",null);__c.k(()=>U2.prototype.JFa);Object(Z2.b)([T2.j],U2.prototype,"JFa",null);__c.k(()=>U2.prototype.s_a);Object(Z2.b)([T2.j],U2.prototype,"s_a",null);__c.k(()=>U2.prototype.sync);Object(Z2.b)([T2.j],U2.prototype,"sync",null);__c.k(()=>U2.prototype.refresh);
Object(Z2.b)([T2.j],U2.prototype,"refresh",null);__c.k(()=>U2.prototype.Rdb);Object(Z2.b)([T2.j],U2.prototype,"Rdb",null);__c.k(()=>U2.prototype.reset);Object(Z2.b)([T2.j],U2.prototype,"reset",null);var zSc=class{constructor(a){let b=a.analytics,c=a.source,d=a.documentId,e=a.Wxb;a=a.Oyb;this.searchId="";this.analytics=b;this.source=c;this.documentId=d;this.Wxb=e;this.Oyb=a}get sessionId(){null==this.ysa&&(this.ysa=__c.IB(),this.Oyb.forEach(a=>a.sessionId=this.ysa));return this.ysa}trackFontFamilyMenuActioned(a){((a=a.opened)||null!=this.ysa)&&this.analytics.trackFontFamilyMenuActioned({action:a?"opened":"closed",source:this.source,sessionId:this.sessionId,designId:this.documentId});a||(this.ysa=
void 0)}trackFontFamilySearched(a){let b=a.searchTerm;a=a.searchAction;this.searchId=__c.IB();this.Wxb.forEach(c=>c.searchId=this.searchId);this.analytics.trackFontFamilySearched({source:this.source,sessionId:this.sessionId,searchId:this.searchId,designId:this.documentId,searchTerm:b,searchAction:a})}};let DSc=class extends M2.Component{constructor(a){super(a);this.Lqc=()=>{0===this.props.mode?this.props.na&&this.props.na():1===this.props.mode?this.props.ZCa&&this.props.ZCa():this.props.Mla&&this.props.Mla()};this.N9=b=>{this.props.BZb&&this.props.BZb()&&b.preventDefault()};this.zAa=[["up",b=>{this.props.MO&&this.props.MO()&&b.preventDefault()}],["down",b=>{this.props.LO&&this.props.LO()&&b.preventDefault()}],["enter",this.N9],[(0,__c.go)("enter"),this.N9],["escape",this.Lqc]];this.oc=M2.createRef();
this.bc=()=>{this.props.ZCa&&this.props.ZCa();this.Mla()};this.onFocus=()=>{this.Ila();this.bWb&&(document.body.className=O2(document.body.className,{["FWr_Hg"]:!0}))};this.onBlur=()=>{this.bWb&&kSc()};this.Ila=()=>{this.props.Ila&&this.props.Ila()};this.Mla=()=>{this.props.Mla&&this.props.Mla()};this.onClick=b=>{"text"!==b.target.type?b.preventDefault():this.props.Ila&&this.props.Ila()}}get bWb(){var a;return 2===(null===(a=this.props.Ja)||void 0===a?void 0:a.aa)}componentDidMount(){this.props.analytics.trackFontFamilyMenuActioned({opened:!0});
if(null!=this.props.ob){const a=this.props.ob();L2.b(this,a)}}componentWillUnmount(){this.props.analytics.trackFontFamilyMenuActioned({opened:!1});kSc()}render(){const a=this.props.Pb;return M2.createElement("div",{className:O2("EbvdGw",{["X2fq0A"]:"fixed"===a})},lSc(this),M2.createElement("div",{className:O2("fCeuOw",{["Qv3CVg"]:"scroll"!==a})},this.qp()))}qp(){var a=this.props;const b=a.mode,c=a.y3b,d=a.bIb;a=a.B7b;switch(b){case 0:return M2.createElement(c,null);case 2:return d?M2.createElement(d,
null):M2.createElement(c,null);case 1:return M2.createElement(a,null);default:throw new __c.G(b);}}};DSc=Object(Z2.b)([L2.c],DSc);var h3=class{constructor(a){this.Mwa=a;this.focused=!1;this.Fq=void 0}get mode(){return null!=this.Fq&&0<this.Fq.trim().length?1:this.focused&&this.Mwa?2:0}};__c.k(()=>h3.prototype.focused);Object(Z2.b)([T2.C.ref],h3.prototype,"focused",void 0);__c.k(()=>h3.prototype.Fq);Object(Z2.b)([T2.C.ref],h3.prototype,"Fq",void 0);__c.k(()=>h3.prototype.mode);Object(Z2.b)([T2.m],h3.prototype,"mode",null);
var Y2=class{constructor(a,b,c,d){this.analytics=a;this.gf=b;this.Ya=c;this.RL=d}Ka(a){return new h3(a)}clear(a){a.Fq=void 0;a.focused=!1}r4a(a,b,c){a.Fq=b;a=mSc(c);this.analytics.trackFontFamilySearched({searchTerm:b||"",searchAction:a});null!=b&&1!==c&&5!==c&&null!=this.RL&&null!=this.gf&&null!=this.Ya&&(c=this.RL,this.gf.gna(new __c.$Gb({brand:c.brand,user:c.user,Nv:[this.Ya],item:{ref:b,type:2},timestamp:Date.now()})))}q4a(a,b){a.focused=b}};__c.k(()=>Y2.prototype.clear);
Object(Z2.b)([T2.j],Y2.prototype,"clear",null);__c.k(()=>Y2.prototype.r4a);Object(Z2.b)([T2.j],Y2.prototype,"r4a",null);__c.k(()=>Y2.prototype.q4a);Object(Z2.b)([T2.j],Y2.prototype,"q4a",null);var S2=class{constructor(){this.status=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1}get ready(){return 1===this.status||4===this.status}};__c.k(()=>S2.prototype.status);Object(Z2.b)([T2.C.ref],S2.prototype,"status",void 0);__c.k(()=>S2.prototype.ready);Object(Z2.b)([T2.m],S2.prototype,"ready",null);
var i3=class{constructor(){this.N2a=this.loading=!1}bB(a){this.ba=a;this.N2a=!0;this.loading=!1;this.error=void 0;return this}onError(a){this.error=a;this.loading=!1;return this}get status(){return null!=this.error?4:this.loading?2:this.ready?1:3}get Cdb(){return new S2(this.status)}get ready(){return!this.loading&&(null!=this.ba||!this.N2a)}};__c.k(()=>i3.prototype.loading);Object(Z2.b)([T2.C.ref],i3.prototype,"loading",void 0);__c.k(()=>i3.prototype.N2a);
Object(Z2.b)([T2.C.ref],i3.prototype,"N2a",void 0);__c.k(()=>i3.prototype.ba);Object(Z2.b)([T2.C.ref],i3.prototype,"ba",void 0);__c.k(()=>i3.prototype.error);Object(Z2.b)([T2.C.ref],i3.prototype,"error",void 0);__c.k(()=>i3.prototype.status);Object(Z2.b)([T2.m],i3.prototype,"status",null);__c.k(()=>i3.prototype.Cdb);Object(Z2.b)([T2.m],i3.prototype,"Cdb",null);__c.k(()=>i3.prototype.ready);Object(Z2.b)([T2.m],i3.prototype,"ready",null);
var j3=class{constructor(a){let b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];this.jd=a;this.values=T2.C.array(b)}get status(){return this.jd.status}get ready(){return this.jd.ready}};__c.k(()=>j3.prototype.values);Object(Z2.b)([T2.C.ref],j3.prototype,"values",void 0);__c.k(()=>j3.prototype.jd);Object(Z2.b)([T2.C.ref],j3.prototype,"jd",void 0);__c.k(()=>j3.prototype.status);Object(Z2.b)([T2.m],j3.prototype,"status",null);__c.k(()=>j3.prototype.ready);
Object(Z2.b)([T2.m],j3.prototype,"ready",null);const uSc=[1,2,3,5,6,8];var k3=class extends j3{constructor(a,b,c){super(a,b);this.id=c}};
var l3=class{constructor(a,b,c,d,e,f){this.Zv=a;this.pd=b;this.locale=c;this.Qs=d;this.gu=e;this.Ps=f;this.hgc=Object(PSc.f)(g=>({id:g.id,options:g.values,Yz:"document"===g.id,status:g.status}));this.lF=new j3(new S2);this.Lv=new j3(new S2);this.wv=new j3(new i3);this.gI=new i3;this.Nka=[];this.M0=[]}get $7a(){return[...this.lF.values,...this.Lv.values,...this.Nka,...this.M0,...this.wv.values]}get AAa(){const a=new Map;this.$7a.forEach(b=>a.set(__c.Ir(b),b));return a}get Wdb(){return R2(this,"document")}get Xdb(){return new k3(this.lF.jd,
this.lF.values.map(this.Wdb),"document")}get H9a(){return R2(this,"brand")}get I9a(){return new k3(this.Lv.jd,this.Lv.values.map(this.H9a),"brand")}get YFb(){return R2(this,"uploaded")}get ZFb(){return new k3(this.wv.jd.Cdb,this.wv.values.map(this.YFb),"uploaded")}get Inb(){return R2(this,"locale")}get Jnb(){return new k3(new S2(0<this.M0.length?3:this.gI.status),this.Nka.map(this.Inb),"locale")}get Itb(){return R2(this,"other")}get Jtb(){return new k3(new S2(0<this.M0.length||3===this.gI.status||
4===this.gI.status?this.gI.status:1),this.M0.map(this.Itb),"other")}get aMa(){return[this.Xdb,this.I9a,this.ZFb,this.Jnb,this.Jtb].map(a=>{var b;b=null===(b=this.Qs)||void 0===b?void 0:"uploaded"===a.id?3:void 0;return null!=b?new k3(a.jd,a.values.slice(0,b),a.id):a})}get le(){return this.aMa.map(this.hgc)}get BZ(){return this.aMa.reduce((a,b)=>a+b.values.length,0)}};__c.k(()=>l3.prototype.lF);Object(Z2.b)([T2.C.ref],l3.prototype,"lF",void 0);__c.k(()=>l3.prototype.Lv);
Object(Z2.b)([T2.C.ref],l3.prototype,"Lv",void 0);__c.k(()=>l3.prototype.wv);Object(Z2.b)([T2.C.ref],l3.prototype,"wv",void 0);__c.k(()=>l3.prototype.Nka);Object(Z2.b)([T2.C.shallow],l3.prototype,"Nka",void 0);__c.k(()=>l3.prototype.M0);Object(Z2.b)([T2.C.shallow],l3.prototype,"M0",void 0);__c.k(()=>l3.prototype.devicePixelRatio);Object(Z2.b)([T2.C.ref],l3.prototype,"devicePixelRatio",void 0);__c.k(()=>l3.prototype.$7a);Object(Z2.b)([T2.m],l3.prototype,"$7a",null);__c.k(()=>l3.prototype.AAa);
Object(Z2.b)([T2.m],l3.prototype,"AAa",null);__c.k(()=>l3.prototype.Wdb);Object(Z2.b)([T2.m],l3.prototype,"Wdb",null);__c.k(()=>l3.prototype.Xdb);Object(Z2.b)([T2.m],l3.prototype,"Xdb",null);__c.k(()=>l3.prototype.H9a);Object(Z2.b)([T2.m],l3.prototype,"H9a",null);__c.k(()=>l3.prototype.I9a);Object(Z2.b)([T2.m],l3.prototype,"I9a",null);__c.k(()=>l3.prototype.YFb);Object(Z2.b)([T2.m],l3.prototype,"YFb",null);__c.k(()=>l3.prototype.ZFb);Object(Z2.b)([T2.m],l3.prototype,"ZFb",null);__c.k(()=>l3.prototype.Inb);
Object(Z2.b)([T2.m],l3.prototype,"Inb",null);__c.k(()=>l3.prototype.Jnb);Object(Z2.b)([T2.m],l3.prototype,"Jnb",null);__c.k(()=>l3.prototype.Itb);Object(Z2.b)([T2.m],l3.prototype,"Itb",null);__c.k(()=>l3.prototype.Jtb);Object(Z2.b)([T2.m],l3.prototype,"Jtb",null);__c.k(()=>l3.prototype.aMa);Object(Z2.b)([T2.m],l3.prototype,"aMa",null);__c.k(()=>l3.prototype.le);Object(Z2.b)([T2.m],l3.prototype,"le",null);__c.k(()=>l3.prototype.BZ);Object(Z2.b)([T2.m],l3.prototype,"BZ",null);
var V2=class{constructor(a){let b=a.fa,c=a.pd,d=a.locale,e=a.hS,f=a.sC,g=a.gu,h=a.xH,m=a.Zv,p=a.Qs,r=a.Ps;this.Db=a.Db;this.fa=b;this.pd=c;this.locale=d;this.hS=e;this.sC=f;this.xH=h;this.Zv=m;this.Qs=p;this.gu=g;this.Ps=r}init(){return new l3(this.Zv,this.pd,this.locale,this.Qs,this.gu,this.Ps)}async refresh(a,b){a.devicePixelRatio=b||a.devicePixelRatio;const c=await Promise.all([oSc(this,a),pSc(this,a),qSc(this,a)]);T2.G(()=>{c.forEach(d=>d&&d())})}async loadMore(a){var b=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:60;if(!(0>=b)&&this.isReady(a)){b=a.BZ+b;if(a.lF.ready)if(0<a.Zv.get().size){a.lF.jd.status=2;try{var c=await oSc(this,a);T2.G(c)}catch(d){T2.G(()=>nSc(a.lF,[],new S2(4)));return}}else T2.G(()=>Q2(a.lF,[],new S2(3)));if(a.Lv.ready&&a.BZ<b&&(T2.G(()=>a.Lv.jd.status=2),(c=await this.iOa(a))&&T2.G(c),1===a.Lv.status)||a.wv.ready&&a.BZ<b&&(await this.Anb(a,b-a.BZ),1===a.wv.status))return;a.gI.ready&&a.BZ<b&&await this.snb(a,b-a.BZ)}}reset(a){a.lF=new j3(new S2);a.Lv=new j3(new S2);
a.wv=new j3(new i3);a.gI=new i3;a.Nka=[];a.M0=[];return Promise.resolve()}get txa(){const a=this.sC?[4]:[];return[3,1,...this.hS?[5]:[],...a]}get A4a(){if(this.gu||null!=this.Ps)return uSc}get projection(){if(null!=this.Ps)return uSc}get Tca(){return null!=this.Ps}async iOa(a){const b=this.xH.Qi;if(!b)return()=>a.Lv.jd.status=3;const c=[],d=[];b.forEach(e=>e.hc.forEach(f=>{const g=f.font&&f.font.fontFamily;null!=g?d.push(g):(f=f.font&&(f.font.media?f.font.media.id:f.font.family),null!=f&&c.push(f))}));
if(0===c.length&&0===d.length)return()=>a.Lv.jd.status=3;try{const e=(await this.Db.lo(new __c.Pr({mq:Array.from(c),hn:Array.from(d),Ws:!0,iT:!0,sza:this.Tca}))).Nc,f=b.flatMap(h=>h.hc),g=e.filter((h,m)=>!e.slice(0,m).some(p=>p.id===h.id)).sort((h,m)=>f.findIndex(sSc(h))-f.findIndex(sSc(m)));return()=>Q2(a.Lv,g,new S2(3))}catch(e){return this.fa.error(e,{Ee:"unable to get brand fonts"}),()=>Q2(a.Lv,[],new S2(4))}}async Anb(a,b){P2(a.wv.jd);try{const c=await this.Db.Z6(new __c.Qr({ba:a.wv.jd.ba,limit:b,
cf:!1,nn:this.txa,projection:this.A4a,Dz:this.Tca})),d=rSc(c.Nc);T2.G(()=>{a.wv.jd.bB(c.ba);nSc(a.wv,d)})}catch(c){T2.G(()=>a.wv.jd.onError(c)),this.fa.error(c,{Ee:"unable to get uploaded fonts"})}}async snb(a,b){P2(a.gI);try{const c=await this.Db.Z6(new __c.Qr({ba:a.gI.ba,cf:!0,locale:this.locale,limit:b,nn:this.txa,projection:this.projection,Dz:this.Tca})),d=rSc(c.Nc),e=d.filter(g=>0<=g.locales.indexOf(this.locale)),f=d.filter(g=>0>g.locales.indexOf(this.locale));T2.G(()=>{a.gI.bB(c.ba);a.Nka.push(...e);
a.M0.push(...f)})}catch(c){T2.G(()=>a.gI.onError(c)),this.fa.error(c,{Ee:"unable to get library fonts"})}}isReady(a){return a.lF.ready||a.Lv.ready||a.wv.ready||a.gI.ready}};__c.k(()=>V2.prototype.refresh);Object(Z2.b)([T2.j],V2.prototype,"refresh",null);__c.k(()=>V2.prototype.loadMore);Object(Z2.b)([T2.j],V2.prototype,"loadMore",null);__c.k(()=>V2.prototype.reset);Object(Z2.b)([T2.j],V2.prototype,"reset",null);__c.k(()=>V2.prototype.txa);Object(Z2.b)([T2.m],V2.prototype,"txa",null);__c.k(()=>V2.prototype.A4a);
Object(Z2.b)([T2.m],V2.prototype,"A4a",null);__c.k(()=>V2.prototype.projection);Object(Z2.b)([T2.m],V2.prototype,"projection",null);__c.k(()=>V2.prototype.Tca);Object(Z2.b)([T2.m],V2.prototype,"Tca",null);__c.k(()=>V2.prototype.iOa);Object(Z2.b)([T2.j],V2.prototype,"iOa",null);__c.k(()=>V2.prototype.Anb);Object(Z2.b)([T2.j],V2.prototype,"Anb",null);__c.k(()=>V2.prototype.snb);Object(Z2.b)([T2.j],V2.prototype,"snb",null);var m3=class{constructor(){this.Di=new j3(new S2);this.usages=new j3(new S2);this.P2a={id:"suggested-searches",Yz:!0,options:[],status:1}}get le(){const a=[{id:"recent-searches",options:this.usages.values.map(b=>({type:"search",key:b.item.ref,text:b.item.ref})),Yz:!0,status:this.usages.status}];a.push(this.P2a);return a}};__c.k(()=>m3.prototype.Di);Object(Z2.b)([T2.C.ref],m3.prototype,"Di",void 0);__c.k(()=>m3.prototype.usages);Object(Z2.b)([T2.C.ref],m3.prototype,"usages",void 0);__c.k(()=>m3.prototype.P2a);
Object(Z2.b)([T2.C.ref],m3.prototype,"P2a",void 0);__c.k(()=>m3.prototype.le);Object(Z2.b)([T2.m],m3.prototype,"le",null);
var X2=class{constructor(a){let b=a.gf,c=a.Ya,d=a.RL,e=a.locale;this.Db=a.Db;this.gf=b;this.Ya=c;this.RL=d;this.locale=e}uSa(a){const b=[...a.Di.values];let c=Math.min(5,b.length);const d=[];for(;0<c&&0<b.length;){var e=b.splice(Math.floor(Math.random()*b.length),1)[0].keywords.find(f=>0<f.keywords.length&&(f.locale.startsWith(this.locale)||this.locale.startsWith(f.locale)));null!=e&&(e=e.keywords[Math.floor(Math.random()*e.keywords.length)],d.push({type:"search",key:e,text:e}),c--)}a.P2a={id:"suggested-searches",
options:d,Yz:!0,status:a.Di.status}}init(){return new m3}async loadMore(a){a.usages.ready&&await this.iVa(a);if(a.Di.ready){T2.G(()=>{a.Di.jd=new S2(2)});try{const b=await this.Db.via(new NSc({limit:100,projection:[1]}));T2.G(()=>{Q2(a.Di,[...b.Di],new S2(3));this.uSa(a)})}catch(b){throw T2.G(()=>{a.Di.jd=new S2(4)}),b;}}}async iVa(a){if(null==this.RL)Q2(a.usages,[],new S2(3));else{var b=this.RL,c=b.user;b=b.brand;a.usages.ready&&(a.usages.jd=new S2(2));try{const d=await this.gf.rhb(new __c.bHb({user:c,
brand:b,Ya:this.Ya,limit:5}));T2.G(()=>{Q2(a.usages,[...d.usages],new S2(3))})}catch(d){throw T2.G(()=>{a.usages.jd=new S2(4)}),d;}}}async refresh(a){this.iVa(a);3===a.Di.status&&this.uSa(a)}async reset(){}};__c.k(()=>X2.prototype.uSa);Object(Z2.b)([T2.j],X2.prototype,"uSa",null);__c.k(()=>X2.prototype.iVa);Object(Z2.b)([T2.j],X2.prototype,"iVa",null);var n3=class{constructor(a,b,c,d,e,f){this.pd=a;this.locale=b;this.zVa=c;this.Qs=d;this.gu=e;this.Ps=f;this.Fq="";this.Nc=new j3(new i3);this.Di=new j3(new i3);this.Mxa=!1}get AAa(){const a=new Map;this.Nc.values.forEach(b=>a.set(__c.Ir(b),b));return a}get Ohb(){return __c.Wr(this.pd,this.locale,this.devicePixelRatio,a=>{var b;return null===(b=this.Qs)||void 0===b?void 0:QRc("other-fonts",a)},this.gu,this.Ps,"other-fonts,")}get keywords(){const a=[],b=new Set,c=this.Fq.trim().toLowerCase(),d=(e,f)=>
xSc(f,c)-xSc(e,c);this.Di.values.forEach(e=>{let f=!1;e.keywords.forEach(g=>{if(0!==g.keywords.length){g=Array.from(g.keywords);g.sort(d);if(g[0].toLocaleLowerCase()===c)g=g.slice(1);else if(!f){const h=g[0];0>a.indexOf(h)&&a.push(h);g=g.slice(1);f=!0}g.forEach(h=>b.add(h))}})});a.forEach(e=>b.delete(e));a.push(...Array.from(b).sort(d));return a.slice(0,this.zVa)}get Uhb(){return this.Nc.values.map(this.Ohb)}get jDb(){return this.keywords.map(wSc)}get le(){const a=[],b=this.jDb;0<b.length&&!this.W2a&&
a.push({id:"suggested-searches",options:b,Yz:!0,status:this.Di.status});a.push({id:"other-fonts",options:this.Uhb,Yz:!1,status:this.Nc.status});return a}};__c.k(()=>n3.prototype.Fq);Object(Z2.b)([T2.C.ref],n3.prototype,"Fq",void 0);__c.k(()=>n3.prototype.Nc);Object(Z2.b)([T2.C.ref],n3.prototype,"Nc",void 0);__c.k(()=>n3.prototype.Di);Object(Z2.b)([T2.C.ref],n3.prototype,"Di",void 0);__c.k(()=>n3.prototype.Mxa);Object(Z2.b)([T2.C.ref],n3.prototype,"Mxa",void 0);__c.k(()=>n3.prototype.devicePixelRatio);
Object(Z2.b)([T2.C.ref],n3.prototype,"devicePixelRatio",void 0);__c.k(()=>n3.prototype.W2a);Object(Z2.b)([T2.C.ref],n3.prototype,"W2a",void 0);__c.k(()=>n3.prototype.AAa);Object(Z2.b)([T2.m],n3.prototype,"AAa",null);__c.k(()=>n3.prototype.Ohb);Object(Z2.b)([T2.m],n3.prototype,"Ohb",null);__c.k(()=>n3.prototype.keywords);Object(Z2.b)([T2.m],n3.prototype,"keywords",null);__c.k(()=>n3.prototype.Uhb);Object(Z2.b)([T2.m],n3.prototype,"Uhb",null);__c.k(()=>n3.prototype.jDb);
Object(Z2.b)([T2.m],n3.prototype,"jDb",null);__c.k(()=>n3.prototype.le);Object(Z2.b)([T2.m],n3.prototype,"le",null);
var W2=class{constructor(a){let b=a.Db,c=a.fa,d=a.pd,e=a.locale,f=a.hS,g=a.sC,h=a.G6,m=a.zVa,p=a.Qs,r=a.gu;a=a.Ps;this.egc=v=>!v.hidden;this.Db=b;this.fa=c;this.pd=d;this.locale=e;this.hS=f;this.sC=g;this.G6=h;this.zVa=void 0===m?3:m;this.Qs=p;this.gu=r;this.Ps=a}init(){return new n3(this.pd,this.locale,0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.zVa,this.Qs,this.gu,this.Ps)}refresh(a,b){a.devicePixelRatio=b||a.devicePixelRatio;return Promise.resolve()}FFb(a,b,c){b=b.trim();a.W2a=
!!c;if(a.Fq===b||""===b)return!1;c=b[0];const d=a.Fq[0];c=null==c||null==d||c.toLocaleLowerCase()!==d.toLocaleLowerCase();a.Fq=b;this.reset(a,c);return!0}reset(a,b){Q2(a.Nc,[],new i3);a.Mxa=!0;b&&Q2(a.Di,[],new i3);return Promise.resolve()}async loadMore(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:30;const c=[];3!==a.Nc.status&&(b=vSc(this,a,b),c.push(b));(null==a.Di.jd.ba&&a.Di.ready||a.Mxa)&&this.G6&&!a.W2a&&(b=this.rnb(a),c.push(b));await Promise.all(c)}async rnb(a){P2(a.Di.jd);
try{const b=(await this.Db.Ona(new MSc({locale:this.locale,query:a.Fq}))).Di;T2.G(()=>{a.Mxa=!1;a.Di.jd.bB();Q2(a.Di,Array.from(b))})}catch(b){T2.G(()=>a.Di.jd.onError(b)),this.fa.error(b,{Ee:"unable to retrieve font search suggestions"})}}};__c.k(()=>W2.prototype.refresh);Object(Z2.b)([T2.j],W2.prototype,"refresh",null);__c.k(()=>W2.prototype.FFb);Object(Z2.b)([T2.j],W2.prototype,"FFb",null);__c.k(()=>W2.prototype.reset);Object(Z2.b)([T2.j],W2.prototype,"reset",null);__c.k(()=>W2.prototype.loadMore);
Object(Z2.b)([T2.j],W2.prototype,"loadMore",null);__c.k(()=>W2.prototype.rnb);Object(Z2.b)([T2.j],W2.prototype,"rnb",null);const ASc=e3,BSc=e3,CSc=e3;var o3=class{constructor(a){this.Gb=a;this.vac=b=>{this.nP===b&&(this.jub=this.nP=void 0)};this.clc=b=>this.nP===b}get kub(){return this.nP?[this.nP]:[]}get PV(){var a=this.Gb.state;if(null==a)return[];const b=this.PP;a=a.attributes["font-weight"];const c=1===a.size||1===b.size?[...a]:[void 0];return[...b].flatMap(d=>c.map(e=>({Hia:d,weight:e})))}get PP(){const a=this.Gb.state;return null==a?new Set:this.rYa===a?new Set(null!=this.nP?[this.nP]:[]):a.attributes["font-family"]||new Set}};
__c.k(()=>o3.prototype.rYa);Object(Z2.b)([T2.C.ref],o3.prototype,"rYa",void 0);__c.k(()=>o3.prototype.nP);Object(Z2.b)([T2.C.ref],o3.prototype,"nP",void 0);__c.k(()=>o3.prototype.jub);Object(Z2.b)([T2.C.ref],o3.prototype,"jub",void 0);__c.k(()=>o3.prototype.kub);Object(Z2.b)([T2.m],o3.prototype,"kub",null);__c.k(()=>o3.prototype.PV);Object(Z2.b)([T2.m],o3.prototype,"PV",null);__c.k(()=>o3.prototype.PP);Object(Z2.b)([T2.m],o3.prototype,"PP",null);
var p3=class{constructor(a,b,c,d,e,f){this.Gb=a;this.pd=b;this.Db=c;this.Zv=d;this.ec=e;this.fa=f;this.dSb=new Map}async lyb(a,b){const c=__c.n(this.Gb.state),d="font"===b.type?b:b.parent,e=__c.Ir(d),f=new __c.uo(d),g="font"===b.type?void 0:b.weight;if(__c.Kr(this.pd,f))GSc(a),HSc(this,e,g);else{FSc(a,c,e,g);try{const h=(await this.Db.lo(new __c.Pr({rr:[f]}))).Nc;await this.pd.Iu(h);T2.G(()=>{a.clc(e)&&(GSc(a),c===this.Gb.state&&HSc(this,e,g))})}catch(h){throw this.nrb(d),this.fa.warning(h,{Ee:"font failed to load",
fingerprint:["font-load-failure"],extra:{["fontFamilyKey"]:e}}),h;}finally{T2.G(()=>{a.vac(e)})}}}nrb(a){const b=__c.Ir(a),c=this.Zv.get().has(b),d=this.dSb.get(b),e=Date.now();!c||null!=d&&d>e-5E3||(this.dSb.set(b,e),__c.co(this.ec,{Eh:__c.F("b+jrAA",[a.name]),timeoutMs:5E3}))}};__c.k(()=>p3.prototype.lyb);Object(Z2.b)([T2.j],p3.prototype,"lyb",null);__c.k(()=>p3.prototype.nrb);Object(Z2.b)([T2.j],p3.prototype,"nrb",null);__c.vza={Rjc:function(a){var b=a.documentId,c=a.locale;const d=a.Jtc;var e=a.Db,f=a.gf,g=a.pd;const h=a.document,m=a.rj;var p=a.Gb;const r=a.xH,v=a.dm,w=a.sC,y=a.G6,z=a.Mwa,A=a.gu,D=a.jw,E=a.fa,I=a.Idb,P=a.Yva,Q=a.Ja;var M=a.D8b;const R=a.esa,W=a.RL,V=a.Nqa,Y=a.Nub,ca=a.Qs;a=a.analytics;const ja=new o3(p),X=T2.m(()=>VRc(h,m,ja.kub)),na=new p3(p,g,e,X,v,E);p=T2.m(()=>ja.PV);a:{switch(M){case 3:M=1;break a;case 2:M=2;break a;case 1:case void 0:break;default:throw new __c.G(M);}M=void 0}f=ESc({documentId:b,
Nqa:V,kY:(oa,pa)=>"brand"===oa?M2.createElement(R,{text:pa}):M2.createElement(__c.Xz,{text:pa}),Zv:X,sC:w,hS:"hidden"!==Y,Idb:I,Yva:P,G6:y,Mwa:z,gu:A,jw:D,Ps:M,ftc:oa=>{const pa="font"===oa.type?oa:oa.parent;switch(pa.Bdb){case void 0:return na.lyb(ja,oa);case 0:return d&&d();default:throw new __c.G(pa.Bdb);}},pd:g,Db:e,gf:f,fa:E,locale:c,Ja:Q,PV:p,xH:r,RL:W,Qs:ca,source:"editor_contextual_panel",analytics:a});b=f.kM;c=f.aV;e=f.refresh;f=f.reset;g=T2.m(()=>ja.PP);return{kM:b,PP:g,aV:c,refresh:e,reset:f}}};
}).call(self, self._421f134f8647887ef56e330ffb309558);}},[["MmA0U","EEO/","fDYT","K2W9","27pF","QA57","rZBJ"]]]);
//# sourceMappingURL=5ab48354eff9ade88521ce0bc7d020ca.js.map