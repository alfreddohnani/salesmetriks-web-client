(self["webpackJsonp"] = self["webpackJsonp"] || []).push([["qMFH"],{"MqMFH":function(_,__,__webpack_require__){__webpack_require__.n_x = __webpack_require__.n;__webpack_require__("MEEO/");self._421f134f8647887ef56e330ffb309558 = self._421f134f8647887ef56e330ffb309558 || {};(function(__c) {'use strict';var l4=function(a,b){if(!a.gg(b)){a.Hg={store:b,focused:!0};var c=__c.n(b.ref),d=c.page,e=c.element;c=c.parent;e?c?a.selection.W1(d,c,e):a.selection.mj(d,e):a.selection.ki(d);KXc(a,b)}},LXc=async function(a,b,c){c=await __c.Ajb(a.controller,b.ref.target,c);a.vjb(b,c)},MXc=function(a,b,c){return __c.nn(a.viewport.mo(c).transform(b)).top},m4=function(a){if(a.viewport.mounted&&!(!a.reference||a.Hg&&a.Hg.focused||a.isDragging())){var b=a.reference,c=b.page,d=b.rWa;if(!a.UZ(b.target))return b=
a.viewport.FZ(),{offset:MXc(a,b,c)+d*a.config.zoom}}},QXc=function(a){let b;const c=n4.F(()=>a.mode,f=>{window.clearTimeout(b);b=void 0;"overlay"===f?a.tba=!0:b=window.setTimeout(n4.j(()=>{a.tba=!1}),NXc)},{fireImmediately:!0}),d=n4.F(()=>a.Koa,f=>{const g=new Set(f.map(m=>m.ref.target));for(var h of a.controller.sk.values())h.ref&&!g.has(h.ref.target)&&(h.ref=void 0,a.Hg&&a.Hg.store===h&&(a.Hg=void 0));for(const m of f){f=m.ref;h=m.sk;for(const p of h)!p.ref&&p instanceof o4&&(p.ref=f)}for(const m of a.nF.keys())g.has(m)||
a.nF.delete(m)},{fireImmediately:!0}),e=n4.F(()=>{if(a.viewport.mounted&&!a.isDragging()&&!a.viewport.AT){var f=a.Koa;if(0!==f.length){var g=[],h=a.viewport.FZ(),m=a.config.zoom,p;for(const v of f){var r=f=v.ref;const w=r.page;r=r.target;const y=v.sk,z=f.rWa;p&&p.page===w||(p={page:f.page,offset:MXc(a,h,w)});f=p.offset+z*m;for(const A of y)A.ref&&A.ref.target===r&&g.push({store:A,offset:f,height:A.r6})}h=m4(a);if(!a.n_&&h)h={type:"button",offset:h.offset};else{const v=a.Hg&&a.Hg.store;h={type:"comment",
Au:v?g.findIndex(w=>v===w.store):0}}return{reference:h,Sac:g}}}},f=>{if(f){var g=f.reference,h=f.Sac;f=(v,w)=>{for(;0<=v;v--){const y=h[v],z=y.store;w-=y.height;if(z.offset<=w)break;w=z.offset=w}};var m=(v,w)=>{for(;v<h.length;v++){const y=h[v],z=y.store,A=y.height;z.offset=Math.max(y.offset,w);w=z.offset+A}};m(0,0);if("comment"===g.type){var p=h[g.Au],r=p.offset;const v=p.height;p.store.offset=r;f(g.Au-1,r);m(g.Au+1,r+v)}else if("button"===g.type)p=g.offset,r=h.findIndex(v=>v.offset>=g.offset),0>
r?f(h.length-1,p):(f(r-1,p),m(r,p+OXc));else throw new __c.G(g);}},{fireImmediately:!0,scheduler:PXc});return()=>{c();d();e()}},RXc=function(a,b){return!!b.ref&&a.page===b.ref.page&&a.element===b.ref.element&&a.parent===b.ref.parent},p4=function(a,b){const c=a.controller.DPa(b).list;return(a=a.nF.get(b))?[...c,a]:c},TXc=function(a){const b=new SXc(__c.n(a.reference));b.offset=__c.n(m4(a)).offset;a.nF.set(b.ref.target,b);l4(a,b)},KXc=function(a,b){var c=__c.n(b.ref),d=a.config.zoom;const e=a.viewport;
var f=e.FZ(),g=__c.nn(e.eq().transform(f));const h=g.height,m=g.top,p=m+h;g=e.mo(c.page).transform(f);c=c.element?c.CPa.transform(__c.Um(d).then(__c.pn(g))):g;var r=__c.nn(c);d=r.top;r=d+r.height;b=d+b.r6;d>=m&&d<=p||r>=m&&r<=p&&b>=m&&b<=p||(g.height<=h?b=g.center().y-h/2:c.height<=h?(b=c.center().y-h/2,g=__c.nn(g),b=Math.max(b,g.top),b=Math.min(b,g.top+g.height-h)):b=d,f=__c.$m(f).then(e.yJ()).transform(0,0).y+b,a.hzc.animate(()=>e.up.y,v=>e.WV(v),f))},UXc=function(a,b){let c=b.ref;b=b.tc;b instanceof
o4&&(b.ref=c,a.Hg&&a.Hg.focused&&(a.Hg={store:a.Hg.store,focused:!1}));l4(a,b)},VXc=function(a){const b=a.Hg,c=a.COb;if(0!==c.length){var d=b?c.findIndex(e=>{let f=e.ref;e=e.tc;return e===b.store&&RXc(f,e)}):0;UXc(a,c[b&&b.focused?(d+1)%c.length:d])}},WXc=function(a){const b=a.Hg,c=a.COb;if(0!==c.length){var d=((b?c.findIndex(e=>{let f=e.ref;e=e.tc;return e===b.store&&RXc(f,e)}):c.length)+c.length-1)%c.length;UXc(a,c[d])}},YXc=function(a,b,c,d){c=XXc(a.UZ,c,a.Gg,d);let e;for(let g=c.length-1;0<=g;g--){var f=
c[g];const h=new __c.HP(b,f,d),m=a.controller.DPa(f).list;for(const p of m)p.ref=h;0<m.length?e=m[0]:(f=a.nF.get(f))&&(e=f)}return e},XXc=function(a,b,c,d){a=__c.clb(b,d,a);a.sort(__c.elb(c));return a.map(e=>e.element)},PXc=function(a){requestAnimationFrame(()=>setTimeout(a,0))};const q4=__webpack_require__("mrSG");const r4=__webpack_require__("TSYQ");const n4=__webpack_require__("2vnA");const s4=__webpack_require__("kMSe");const t4=__webpack_require__("q1tI");const ZXc=__webpack_require__("Gp1o");const $Xc=__webpack_require__("CMvH");let v4=class extends t4.Component{constructor(){super(...arguments);this.key=0;this.Q9a=[["tab",a=>a.stopPropagation()],[(0,__c.go)("tab"),a=>a.stopPropagation()]];this.onSubmit=a=>this.props.onSubmit(a).then(this.w_a);this.Lc=()=>{this.w_a();this.props.Lc&&this.props.Lc()}}render(){const a=this.props;return t4.createElement(__c.LE,{map:this.Q9a,xE:!1,Bh:!0},t4.createElement(u4,Object.assign({key:this.key},{type:a.type,tc:a.tc,Sk:a.Sk,jHa:a.jHa,Ai:a.Ai,onChange:a.onChange},{onSubmit:this.onSubmit,
Lc:this.Lc})))}w_a(){this.key=1-this.key}};v4.defaultProps={jHa:!1,Ai:!0};__c.k(()=>v4.prototype.key);Object(q4.b)([n4.C.ref],v4.prototype,"key",void 0);__c.k(()=>v4.prototype.w_a);Object(q4.b)([n4.j.bound],v4.prototype,"w_a",null);v4=Object(q4.b)([s4.c],v4);
let u4=class extends t4.Component{constructor(){super(...arguments);this.input=t4.createRef();this.lq=new __c.gJ;this.CJ=!0;this.pending=this.focused=!1}componentDidMount(){const a=this.input.current;a&&this.fHa&&(a.focus(),this.props.tc&&__c.sjb(a));s4.b(this,n4.F(()=>this.lq.content,b=>this.props.onChange&&this.props.onChange(b),{fireImmediately:!0}))}render(){var a=this.props;const b=a.Sk,c=a.tc;a=a.type;const d=this.lq.gIa;return t4.createElement("div",{className:r4("su4lTQ",{["lV-ClA"]:!!c,["_6CAXFA"]:!!c&&
"comment"===a})},t4.createElement(__c.UO,{ref:this.input,placeholder:this.placeholder,KO:this.fHa?2:1,onFocus:this.onFocus,onBlur:this.onBlur,onSubmit:this.onSubmit,Lc:this.Lc,disabled:this.pending,tc:c,$:b,store:this.lq}),d&&t4.createElement("div",{className:"XZAFsw TfRV3Q",style:{top:`${d.top+d.height}px`}},t4.createElement(__c.uP,{store:this.lq,ZO:this.ZO})),this.Bba&&t4.createElement("div",{className:"DrjA5g"},t4.createElement(__c.PH,{checked:this.CJ,disabled:this.pending,onChange:this.P9,label:__c.F("AXif6w",
[])})),this.tRa&&t4.createElement("p",{className:"gLAuXQ n9zSJA ZTpOuQ"},__c.F("PvmUtA",[])),this.fHa&&t4.createElement("div",{className:"IJUq_Q"},t4.createElement(__c.NG,{disabled:this.pending,onClick:this.Lc,className:"_800gMQ _7fXyHQ"},__c.F("kFxubQ",[])),t4.createElement(__c.ex,{disabled:this.K2a,onClick:this.onSubmit,className:"_7fXyHQ",icon:this.pending?__c.Xr:void 0},this.action)))}get placeholder(){const a=this.props,b=a.type;if(!a.tc)return"comment"===b?__c.F("sCcq7A",[]):__c.F("VE1dcw",
[])}get action(){const a=this.props,b=a.type;return a.tc?__c.F("GhalUg",[]):"comment"===b?__c.F("688VSA",[]):__c.F("Vro+UA",[])}ZO(a){this.input.current&&this.input.current.aAb(a)}get Bba(){const a=__c.Un(this.props.Sk,this.lq);return!!a&&0<a.length}P9(a,b){this.CJ=b}get fHa(){return"comment"===this.props.type||this.focused||!this.lq.Uja||!!this.props.tc}get tRa(){return 1024<this.lq.content.length}get K2a(){const a=this.lq.Uja;return!this.props.Ai||a||this.pending||this.tRa}onFocus(){this.focused=
!0}onBlur(){this.focused=!1;this.lq.Uja&&!this.props.tc&&this.props.Lc&&this.props.Lc()}onSubmit(){var a=this.props,b=a.Sk;a=a.onSubmit;var c=this.lq;const d=c.content;c=c.Ii;this.K2a||(this.pending=!0,b=this.CJ&&__c.Un(b,this.lq),a({content:d,Ii:c,Cya:b||[]}).catch(n4.j(()=>this.pending=!1)))}Lc(){this.props.Lc&&this.props.Lc()}};__c.k(()=>u4.prototype.CJ);Object(q4.b)([n4.C.ref],u4.prototype,"CJ",void 0);__c.k(()=>u4.prototype.focused);Object(q4.b)([n4.C.ref],u4.prototype,"focused",void 0);
__c.k(()=>u4.prototype.pending);Object(q4.b)([n4.C.ref],u4.prototype,"pending",void 0);__c.k(()=>u4.prototype.placeholder);Object(q4.b)([n4.m],u4.prototype,"placeholder",null);__c.k(()=>u4.prototype.action);Object(q4.b)([n4.m],u4.prototype,"action",null);__c.k(()=>u4.prototype.ZO);Object(q4.b)([n4.j.bound],u4.prototype,"ZO",null);__c.k(()=>u4.prototype.Bba);Object(q4.b)([n4.m],u4.prototype,"Bba",null);__c.k(()=>u4.prototype.P9);Object(q4.b)([n4.j.bound],u4.prototype,"P9",null);__c.k(()=>u4.prototype.fHa);
Object(q4.b)([n4.m],u4.prototype,"fHa",null);__c.k(()=>u4.prototype.tRa);Object(q4.b)([n4.m],u4.prototype,"tRa",null);__c.k(()=>u4.prototype.K2a);Object(q4.b)([n4.m],u4.prototype,"K2a",null);__c.k(()=>u4.prototype.onFocus);Object(q4.b)([n4.j.bound],u4.prototype,"onFocus",null);__c.k(()=>u4.prototype.onBlur);Object(q4.b)([n4.j.bound],u4.prototype,"onBlur",null);__c.k(()=>u4.prototype.onSubmit);Object(q4.b)([n4.j.bound],u4.prototype,"onSubmit",null);__c.k(()=>u4.prototype.Lc);
Object(q4.b)([n4.j.bound],u4.prototype,"Lc",null);u4=Object(q4.b)([s4.c],u4);let x4=class extends t4.Component{constructor(){super(...arguments);this.Pv=()=>this.props.$.Pv();this.$g=a=>this.props.$.$g(a);this.Ov=a=>this.props.$.Ov(a);this.hrb=()=>{const a=this.props;return l4(a.$,a.store)};this.zU=a=>{const b=this.props;return b.$.xPa(b.store,a)};this.Xrb=a=>{const b=this.props;return b.$.bga(b.store,a)};this.AU=(a,b)=>{const c=this.props;return c.$.yPa(c.store,a,b)};this.Xqb=()=>{const a=this.props;a.$.kVa(a.store)};this.xU=()=>{const a=this.props;return a.$.fN(a.store)};
this.yU=a=>{const b=this.props;return b.$.dS(b.store,a)};this.oK=()=>{const a=this.props;return a.$.zna(a.store)}}get HJ(){const a=this.props,b=a.store,c=a.$;return a.focused||c.x5.has(b)}render(){var a=this.props;const b=a.store.pe,c=a.focused,d=a.Sk,e=a.Ai;a=a.Hz;return t4.createElement("div",{id:`comment-${b.tc.id}`,className:r4("T4-mlQ _1qZURQ",{["rkIdVQ MjbkXw TfRV3Q"]:this.HJ})},t4.createElement(w4,{pe:b.tc,dv:b.dv,SK:b.SK,focused:c,$g:this.$g,Ov:this.Ov,Ai:e,Pv:this.Pv,Xrb:this.Xrb,hrb:this.hrb,
zU:this.zU,AU:this.AU,Xqb:this.Xqb,xU:this.xU,yU:this.yU,oK:this.oK,Sk:d,Hz:a}))}};__c.k(()=>x4.prototype.HJ);Object(q4.b)([n4.m],x4.prototype,"HJ",null);x4=Object(q4.b)([s4.c],x4);
let y4=class extends t4.Component{constructor(){super(...arguments);this.Cqc=a=>{const b=this.props;return LXc(b.$,b.store,a)};this.Lc=()=>{const a=this.props;a.$.z$a(a.store)}}get HJ(){const a=this.props,b=a.store,c=a.$;return a.focused||c.x5.has(b)}render(){var a=this.props;const b=a.Sk;a=a.Ai;return t4.createElement("div",{className:r4("T4-mlQ _1qZURQ",{["rkIdVQ MjbkXw TfRV3Q"]:this.HJ})},t4.createElement(v4,{type:"comment",Sk:b,jHa:!0,onSubmit:this.Cqc,Lc:this.Lc,Ai:a}))}};__c.k(()=>y4.prototype.HJ);
Object(q4.b)([n4.m],y4.prototype,"HJ",null);y4=Object(q4.b)([s4.c],y4);
let w4=class extends t4.Component{constructor(){super(...arguments);this.rUa=!0;this.jK=(a,b)=>{const c=this.props,d=c.zU,e=c.AU;return a===c.pe?d(b):e(a,b)};this.uq=a=>{const b=this.props,c=b.xU,d=b.yU;return a===b.pe?c():d(a)}}render(){const a=this.props,b=a.dv,c=a.Ai,d=a.Xrb,e=a.Xqb,f=a.Sk,g=a.SK-b.length,h={onFocus:a.hrb,jK:this.jK,uq:this.uq,Yla:a.oK,Sk:f,$g:a.$g,Ov:a.Ov,Ai:c,Pv:a.Pv,Hz:a.Hz};return t4.createElement(t4.Fragment,null,t4.createElement(z4,Object.assign({},h,{tc:a.pe,type:"comment"})),
0<g&&t4.createElement("button",{className:"b7vggQ hzBFtQ n9zSJA ZTpOuQ",onClick:e},__c.F("ZKrOZQ",[g])),b.map(m=>t4.createElement(z4,Object.assign({},h,{key:m.id,tc:m,type:"reply"}))),this.kBb&&t4.createElement(v4,{type:"reply",onSubmit:d,onChange:this.Wrb,Sk:f,jHa:!0,Ai:c}))}get kBb(){return this.props.focused||!this.rUa}Wrb(a){this.rUa=!a}};__c.k(()=>w4.prototype.rUa);Object(q4.b)([n4.C.ref],w4.prototype,"rUa",void 0);__c.k(()=>w4.prototype.kBb);Object(q4.b)([n4.m],w4.prototype,"kBb",null);
__c.k(()=>w4.prototype.Wrb);Object(q4.b)([n4.j.bound],w4.prototype,"Wrb",null);w4=Object(q4.b)([s4.c],w4);
let z4=class extends t4.Component{constructor(){super(...arguments);this.Zs=!1;this.oK=()=>{const a=this.props,b=a.Yla;return b(a.tc)};this.Fqc=a=>{const b=this.props,c=b.jK;return c(b.tc,a).then(n4.j(()=>{this.Zs=!1}))};this.pjb=()=>{this.Zs=!0;this.props.onFocus()}}render(){var a=this.props;const b=a.Ai,c=a.Pv,d=a.tc,e=a.Sk,f=a.type;a=a.Hz;return this.Zs?t4.createElement("div",{className:"Y07zSQ"},t4.createElement(v4,{type:f,onSubmit:this.Fqc,Lc:this.Nqb,Sk:e,jHa:!0,Ai:b,tc:d})):t4.createElement(a,
{Yla:"comment"===f&&c(d)?this.oK:void 0,type:f,key:d.id,tc:d,X_:this.X_})}Nqb(){this.Zs=!1}get X_(){var a=this.props;const b=a.tc,c=a.$g,d=a.Ov,e=a.uq;a="reply"===a.type;const f=[];c(b)&&f.push({Icon:__c.qG,label:a?__c.F("r/GefQ",[]):__c.F("L1Ai+w",[]),onMouseUp:()=>this.pjb()});d(b)&&f.push({Icon:__c.jp,label:a?__c.F("17eDJA",[]):__c.F("Cj3aIw",[]),onMouseUp:()=>e(b)});return f}};__c.k(()=>z4.prototype.Zs);Object(q4.b)([n4.C.ref],z4.prototype,"Zs",void 0);__c.k(()=>z4.prototype.Nqb);
Object(q4.b)([n4.j.bound],z4.prototype,"Nqb",null);__c.k(()=>z4.prototype.pjb);Object(q4.b)([n4.j],z4.prototype,"pjb",void 0);__c.k(()=>z4.prototype.X_);Object(q4.b)([n4.m],z4.prototype,"X_",null);z4=Object(q4.b)([s4.c],z4);const NXc=parseInt("200ms",10),OXc=parseInt("32px",10)+__c.jG,aYc=parseInt("256px",10)+parseInt("48px",10)+__c.jG;var A4=class{constructor(){this.r6=1}};__c.k(()=>A4.prototype.r6);Object(q4.b)([n4.C.ref],A4.prototype,"r6",void 0);__c.k(()=>A4.prototype.offset);Object(q4.b)([n4.C.ref],A4.prototype,"offset",void 0);var o4=class extends A4{constructor(a){super();this.pe=a}};__c.k(()=>o4.prototype.ref);Object(q4.b)([n4.C.ref],o4.prototype,"ref",void 0);const bYc=new __c.ZC("draft_comment_");
var SXc=class extends A4{constructor(a){super();this.ref=a;this.id=bYc.next()}};
var B4=class{constructor(a,b,c,d,e,f,g,h){this.controller=a;this.document=b;this.config=c;this.isDragging=d;this.selection=e;this.viewport=f;this.dm=g;this.Gg=h;this.nF=new Map;this.x5=new n4.c;this.hzc=new __c.Gn;this.yJb=n4.o("commentingAvailableMargin");this.tba=this.lJa=!1;this.Ppa=Object(ZXc.f)(m=>new __c.IP(m,this.Uab,this.Gg,this.UZ));this.Uab=Object(ZXc.f)(m=>new __c.JP(m,this.UZ));this.UZ=m=>this.nF.has(m)}get afa(){const a=this.Gg;var b=this.viewport;this.yJb.reportObserved();if(!b.mounted)return 0;
const c=b.eq();b=b.j7();return Math.min(aYc,Math.max(0,a?b.$c.x-c.$c.x:c.r.x-b.r.x))}get n_(){return isNaN(this.afa)||this.afa>=aYc}get mode(){if(this.n_)return"pinned";const a=this.lJa;return this.Ylb||!a?"overlay":"pinned"}get COb(){return this.Koa.flatMap(a=>{const b=a.ref;return a.sk.map(c=>({ref:b,tc:c}))})}get Koa(){const a=[];this.document.ca.forEach(b=>{var c=p4(this,b);0<c.length&&a.push({ref:new __c.HP(b),sk:c});for(const d of this.Ppa(b).Kba){c=d.element;const e=d.parent,f=p4(this,c);0<
f.length&&a.push({ref:new __c.HP(b,c,e),sk:f})}});return a}get ws(){const a=[];for(const b of this.controller.sk.values())b.ref&&a.push(b);return a}get ieb(){return[...this.nF.values()]}z$a(a){this.nF.delete(a.ref.target);this.Hg&&this.Hg.store===a&&(a=a.ref.target.rb,this.Hg=0<a.length?(a=this.controller.Ria(a[a.length-1]))&&{store:a,focused:!1}:void 0)}vjb(a,b){this.nF.delete(a.ref.target);b.offset=a.offset;b.r6=a.r6;l4(this,b)}xPa(a,b){return this.controller.xPa(a,b)}k_a(a){if(this.Hg&&this.Hg.store===
a){const c=__c.n(a.ref);var b=c.target.rb;const d=b.findIndex(e=>e===a.pe.tc.id);this.Hg=(b=b.slice(0,d).reverse().concat(b.slice(d+1)).map(e=>this.controller.Ria(e)).find(e=>e&&e.ref?e.ref.element===c.element:!1))&&{store:b,focused:!1}}}fN(a){this.k_a(a);return this.controller.fN(a)}zna(a){this.k_a(a);__c.co(this.dm,{Eh:__c.F("LRA3hg",[])});return this.controller.zna(a)}kVa(a){return this.controller.kVa(a)}bga(a,b){return this.controller.bga(a,b)}yPa(a,b,c){return this.controller.yPa(a,b,c)}dS(a,
b){return this.controller.dS(a,b)}$g(a){return this.controller.$g(a)}Ov(a){return this.controller.Ov(a)}Pv(){return this.controller.Pv()}Uxa(){this.yJb.reportChanged()}get targetPage(){var a,b;const c=null===(b=null===(a=this.Hg?this.Hg.store:this.Koa[0])||void 0===a?void 0:a.ref)||void 0===b?void 0:b.page;return c&&this.document.ca.has(c)?c:void 0}get Ylb(){return!!this.Hg&&this.Hg.focused}gg(a){return!!this.Hg&&this.Hg.store===a&&this.Hg.focused}yta(a){this.gg(a)&&(this.Hg={store:a,focused:!1})}bma(a){this.reference=
void 0;this.x5.clear();if(a){var b=a.page,c=a.elements;a=a.parent;this.lJa||(this.lJa=this.ws.some(e=>e.ref&&e.ref.page===b));if(c){this.x5.replace(c.flatMap(e=>p4(this,e)));var d=YXc(this,b,c,a);1===c.length&&(this.reference=new __c.HP(b,c[0],a));!d||this.Hg&&this.Hg.store.ref&&this.Hg.store.ref.element&&c.includes(this.Hg.store.ref.element)||(this.Hg={store:d,focused:!1})}else{this.reference=new __c.HP(b);c=this.controller.DPa(b).list;for(d of c)d.ref=this.reference;if(c[0]||this.nF.get(b))this.Hg&&
this.Hg.store.ref&&this.Hg.store.ref.target===b||(this.Hg={store:c[0],focused:!1});this.x5.replace([...p4(this,b)])}}}};__c.k(()=>B4.prototype.Hg);Object(q4.b)([n4.C.ref],B4.prototype,"Hg",void 0);__c.k(()=>B4.prototype.reference);Object(q4.b)([n4.C.ref],B4.prototype,"reference",void 0);__c.k(()=>B4.prototype.nF);Object(q4.b)([n4.C.shallow],B4.prototype,"nF",void 0);__c.k(()=>B4.prototype.x5);Object(q4.b)([n4.C.ref],B4.prototype,"x5",void 0);__c.k(()=>B4.prototype.lJa);
Object(q4.b)([n4.C.ref],B4.prototype,"lJa",void 0);__c.k(()=>B4.prototype.tba);Object(q4.b)([n4.C.ref],B4.prototype,"tba",void 0);__c.k(()=>B4.prototype.afa);Object(q4.b)([n4.m],B4.prototype,"afa",null);__c.k(()=>B4.prototype.n_);Object(q4.b)([n4.m],B4.prototype,"n_",null);__c.k(()=>B4.prototype.mode);Object(q4.b)([n4.m],B4.prototype,"mode",null);__c.k(()=>B4.prototype.Koa);Object(q4.b)([n4.m.struct],B4.prototype,"Koa",null);__c.k(()=>B4.prototype.ws);
Object(q4.b)([n4.m.struct],B4.prototype,"ws",null);__c.k(()=>B4.prototype.ieb);Object(q4.b)([n4.m.struct],B4.prototype,"ieb",null);__c.k(()=>B4.prototype.z$a);Object(q4.b)([n4.j],B4.prototype,"z$a",null);__c.k(()=>B4.prototype.vjb);Object(q4.b)([n4.j],B4.prototype,"vjb",null);__c.k(()=>B4.prototype.k_a);Object(q4.b)([n4.j],B4.prototype,"k_a",null);__c.k(()=>B4.prototype.fN);Object(q4.b)([n4.j],B4.prototype,"fN",null);__c.k(()=>B4.prototype.zna);Object(q4.b)([n4.j],B4.prototype,"zna",null);
__c.k(()=>B4.prototype.targetPage);Object(q4.b)([n4.m],B4.prototype,"targetPage",null);__c.k(()=>B4.prototype.Ylb);Object(q4.b)([n4.m],B4.prototype,"Ylb",null);const cYc=parseInt("256px",10);
let E4=class extends t4.Component{constructor(){super(...arguments);this.Uxa=()=>{this.props.$.Uxa()};this.F3b=s4.c(a=>t4.createElement(x4,Object.assign({},a,{Hz:this.props.Hz})))}componentDidMount(){const a=this.props,b=a.$,c=a.selection;Object(s4.b)(this,QXc(b));Object(s4.b)(this,n4.F(()=>{var d;a:{if(d=c.state)switch(d.type){case "pages":d={page:d.page};break a;case "elements":d=d.inner&&"group"===d.inner.type?{page:d.page,elements:d.inner.Na,parent:d.inner.group}:{page:d.page,elements:d.elements};
break a;default:throw new __c.G(d);}d=void 0}return d},d=>b.bma(d),{fireImmediately:!0}))}get Tab(){var a=this.props.$;const b=a.mode,c=a.afa;a=a.Gg;if("pinned"===b||0>=c)return 0;if("overlay"===b)return(a?-1:1)*(c-cYc-2*__c.jG);throw new __c.G(b);}render(){var a=this.props;const b=a.$,c=a.Sk,d=a.hma;a=b.mode;const e=b.afa,f=b.n_,g=b.Gg;return t4.createElement(t4.Fragment,null,t4.createElement(C4,{$:b}),t4.createElement("div",{className:r4("Pv4OGQ",{["OwQFiA"]:"overlay"===a}),style:{width:`${e}px`,
transform:`translateX(${this.Tab}px)`}},b.ws.map(h=>t4.createElement(D4,{key:h.pe.tc.id,jHb:this.F3b,store:h,$:b,Gg:g,Sk:c,focused:b.gg(h),Ai:d.CG,n_:f,onMouseDown:this.Uxa})),b.ieb.map(h=>t4.createElement(D4,{key:h.id,jHb:y4,store:h,$:b,Gg:g,Sk:c,focused:b.gg(h),Ai:d.CG,n_:f,onMouseDown:this.Uxa}))))}};__c.k(()=>E4.prototype.Tab);Object(q4.b)([n4.m],E4.prototype,"Tab",null);E4=Object(q4.b)([s4.c],E4);
let C4=class extends t4.Component{componentDidMount(){Object(s4.b)(this,n4.F(()=>m4(this.props.$),a=>this.offset=a&&a.offset,{equals:n4.l.structural,scheduler:a=>requestAnimationFrame(()=>setTimeout(a,0))}))}render(){return t4.createElement(__c.ZM,null,null!=this.offset&&t4.createElement(__c.JA,{label:__c.F("CRsrKA",[])},t4.createElement("button",{className:"YB5GNA M7lnPA TfRV3Q",onClick:this.q9,style:{transform:`translateY(${this.offset}px)`}},t4.createElement(__c.Qmb,{size:"medium"}))))}q9(){const a=
this.props.$;a.Uxa();TXc(a)}};__c.k(()=>C4.prototype.offset);Object(q4.b)([n4.C.ref],C4.prototype,"offset",void 0);__c.k(()=>C4.prototype.q9);Object(q4.b)([n4.j.bound],C4.prototype,"q9",null);C4=Object(q4.b)([s4.c],C4);
let D4=class extends t4.Component{constructor(){super(...arguments);this.element=t4.createRef();this.BCa=()=>{var a=this.props;const b=a.$;a=a.store;{const c=document.getSelection&&document.getSelection();c&&"Range"===c.type&&this.element.current&&c.containsNode(this.element.current,!0)&&c.removeAllRanges()}b.gg(a)&&document.addEventListener("mouseup",this.yta,{once:!0})}}render(){var a=this.props;const b=a.jHb;var c=a.n_,d=a.Gg;const e=a.store,f=a.focused;a=r4("FEzUUA M7lnPA",{["WhkAsg"]:f,["koBA3Q"]:c});
c=(c?-5:-4)*__c.jG;d=null!=e.offset?`translate(${f?(d?-1:1)*c:0}px, ${e.offset}px)`:`matrix3d(0${", 0".repeat(15)})`;return t4.createElement(__c.$J,{z0:this.BCa},t4.createElement("div",{ref:this.element,style:{transform:d},className:a,onMouseDown:this.onMouseDown},t4.createElement($Xc.a,{client:!0,onResize:this.zrb},g=>t4.createElement("div",{ref:g.measureRef,className:"kXFmvw"},t4.createElement(b,Object.assign({},this.props))))))}zrb(a){this.props.store.r6=a.client.height+__c.jG}onMouseDown(){const a=
this.props,b=a.onMouseDown;l4(a.$,a.store);b()}yta(){const a=this.props;a.$.yta(a.store)}};__c.k(()=>D4.prototype.zrb);Object(q4.b)([n4.j.bound],D4.prototype,"zrb",null);__c.k(()=>D4.prototype.onMouseDown);Object(q4.b)([n4.j.bound],D4.prototype,"onMouseDown",null);__c.k(()=>D4.prototype.yta);Object(q4.b)([n4.j.bound],D4.prototype,"yta",null);D4=Object(q4.b)([s4.c],D4);__c.Tsa={Igc:function(a){let b=a.config,c=a.Gg,d=a.document,e=a.isDragging,f=a.Sk,g=a.ec,h=a.hma,m=a.selection,p=a.viewport,r=a.Hz;var v;const w=new __c.VO(a.analytics,a.documentId,a.lPa,d,a.Cx,a.Xca,a.accessToken,a.P5,a.undo,z=>new o4(z),z=>__c.co(g,{Eh:z}),null===(v=a.Nfa)||void 0===v?void 0:v.B6),y=new B4(w,d,b,e,m,p,g,c);return new __c.bo(w,()=>y.tba,()=>t4.createElement(E4,{config:b,$:y,Sk:f,hma:h,selection:m,Hz:r}),()=>{},()=>{m4(y)&&TXc(y)},z=>{(z=w.Ria(z))&&l4(y,z)},()=>VXc(y),()=>WXc(y))}};
}).call(self, self._421f134f8647887ef56e330ffb309558);}},[["MqMFH","fDYT","K2W9","EEO/","QA57","rZBJ"]]]);
//# sourceMappingURL=ff62fa8a9658028b27db09ecbf37b114.js.map